/*! For license information please see 69d59dd7bf798bc53a50.js.LICENSE.txt */
"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[8490],{88490:(e,t,a)=>{a.d(t,{W:()=>c});var s=a(55688),i=a(96540),l=a(95093),r=a.n(l),n=a(66683),o=a(44354),c=class{constructor(e,t){(0,s.Mu)(this,"data",[]),(0,s.Mu)(this,"globalViewModel",null),(0,s.Mu)(this,"toRaw",(()=>this.data)),(0,s.Mu)(this,"toAreaChart",(()=>{const e=(0,n.jgq)(this.globalViewModel?.dateFilter?.date_start,this.globalViewModel?.dateFilter?.date_end),t=e.map((e=>{const t=this.data.find((t=>r()(t.date).format("YYYY-MM-DD")===e));return{name:e&&r()(e,"YYYY-MM-DD").format("DD"),visits:t?.[n.PF1.VISITS]??0,page_views:t?.[n.PF1.TOTAL_PAGE_VIEWS]??0,unique_visits:t?.unique_visits??0}})),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(((e,t)=>{const a=this.data.filter((e=>r()(e?.date).month()===t));let s=0,i=0,l=0;return a&&(s=a.reduce(((e,t)=>e+t[n.PF1.VISITS]),0),i=a.reduce(((e,t)=>e+t[n.PF1.TOTAL_PAGE_VIEWS]),0),l=a.reduce(((e,t)=>e+t.unique_visits),0)),{name:e,visits:s,page_views:i,unique_visits:l}})),s={};e.forEach((e=>{const t=r()(e).startOf("isoWeek"),a=r()(e).endOf("isoWeek"),i=`${t.format("DD MMM")} - ${a.format("DD MMM")}`;s[i]||(s[i]={visits:0,page_views:0,unique_visits:0});const l=this.data.filter((e=>r()(e?.date).isBetween(t,a,null,"[]")));if(l){const e=l.reduce(((e,t)=>e+t[n.PF1.VISITS]),0),t=l.reduce(((e,t)=>e+t[n.PF1.TOTAL_PAGE_VIEWS]),0),a=l.reduce(((e,t)=>e+t.unique_visits),0);s[i].visits+=e,s[i].page_views+=t,s[i].unique_visits+=a}}));return[{visitors:a},{visitors:t},{visitors:Object.keys(s).map((e=>({name:e,visits:s[e].visits,page_views:s[e].page_views,unique_visits:s[e].unique_visits})))}]})),(0,s.Mu)(this,"getFilterName",(()=>[{label:"Visitors",value:"visitors"}])),(0,s.Mu)(this,"toBrowsersTableTop",(()=>{const e=["txt_browser","txt_visitors","%"],t=Math.max(...this.data.map((e=>e[n.CEO.NUMBER_OF_VISITORS]))),a=[n.$yQ.BROWSER_NAME,n.CEO.NUMBER_OF_VISITORS,n.CEO.NUMBER_OF_VISITORS_PERCENT];if(this.data?.length){const s=a.map(((a,s)=>({Header:e[s],accessor:a,allowSort:!0,width:a===n.$yQ.BROWSER_NAME?250:a===n.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:100,Cell:({cell:e,column:a,row:s})=>{let l="";switch(e?.value){case"Chrome":l="/assets/images/chrome.svg";break;case"Safari":l="/assets/images/safari.svg";break;case"Firefox":l="/assets/images/firefox.svg";break;case"Microsoft Edge":l="/assets/images/microsoft_edge.svg";break;case"Opera":l="/assets/images/opera.svg";break;case"Samsung Internet for Android":l="/assets/images/samsung_browser.svg";break;case"Googlebot":l="/assets/images/google_bot.svg";break;case"Yandex Browser":l="/assets/images/yandex_browser.svg"}return i.createElement(i.Fragment,null,a.id===n.$yQ.BROWSER_NAME?i.createElement("div",{className:"d-flex align-items-center py-sm px-20 position-relative"},i.createElement("div",{className:"position-absolute top-0 start-0 h-100 z-0",style:{backgroundColor:"#E7EFFF",width:`${(s.cells[1]?.value/t*100)?.toString()}%`}}),i.createElement("div",{className:"z-1"},l?i.createElement(o.A,{className:"me-12px",style:{width:22,height:22},src:n._K2.PUBLIC_URL+l,alt:"icons"}):i.createElement("div",{style:{width:22,height:22},className:"d-inline-block me-12px"}),""===e?.value?"Unknown":e?.value)):a.id===n.CEO.NUMBER_OF_VISITORS_PERCENT?i.createElement("div",{className:"text-end"},n.HP2.numberWithCommas(e?.value)??null):i.createElement("div",{className:"text-end pe-2"},n.HP2.numberWithCommas(e?.value)??null))}}))),l=this.data?.map((e=>(e[n.CEO.NUMBER_OF_VISITORS_PERCENT]=e[n.CEO.NUMBER_OF_VISITORS_PERCENT]/10,{...e,...a.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),r=l?.map((e=>{for(let t in e)a.includes(t)||delete e[t];return e}));return{header:s,data:r}}return{header:[],data:[]}})),(0,s.Mu)(this,"toDevicesTableTop",(()=>{const e=["txt_device","txt_visitors"],t=[n.JLh.DEVICE,n.CEO.NUMBER_OF_VISITORS],a=Math.max(...this.data.map((e=>e[n.CEO.NUMBER_OF_VISITORS])));if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,allowSort:!0,width:t===n.JLh.DEVICE?250:t===n.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,Cell:({cell:e,column:t,row:s})=>i.createElement(i.Fragment,null,t.id===n.JLh.DEVICE?i.createElement("div",{className:"d-flex align-items-center py-sm px-20 position-relative "+("iPhone"===e?.value||"iPad"===e?.value?"":"text-capitalize")},i.createElement("div",{className:"position-absolute top-0 start-0 h-100 z-0",style:{backgroundColor:"#E7EFFF",width:`${(s.cells[1]?.value/a*100)?.toString()}%`}}),i.createElement("div",{className:"z-1"},""===e?.value?"Unknown":e?.value)):i.createElement("div",{className:" text-end"},n.HP2.numberWithCommas(e?.value)??null))}))),l=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),r=l?.map((e=>{for(let a in e)t.includes(a)||delete e[a];return e}));return{header:s,data:r}}return{header:[],data:[]}})),(0,s.Mu)(this,"toSourcesTableTopDashboard",(()=>{const e=["txt_source","txt_visitors"],t=[n.BSO.REFERER,n.CEO.NUMBER_OF_VISITORS],a=Math.max(...this.data.map((e=>e[n.CEO.NUMBER_OF_VISITORS])));if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,allowSort:!0,Cell:({cell:e,column:t,row:s})=>{let l="";if(t.id===n.BSO.REFERER){if(e?.value){const t=new URL(e?.value);l="aesirx.io"===t?.hostname?"/assets/images/logo/welcome-logo.png":""}switch(e?.value){case"":l="/assets/images/direct.png";break;case"https://www.google.com/":l="/assets/images/google.png";break;case"https://www.facebook.com/":l="/assets/images/facebook.png";break;case"https://www.linkedin.com/":l="/assets/images/linkedin.png";break;case"https://yandex.ru/":l="/assets/images/yandex.png";break;case"https://duckduckgo.com/":l="/assets/images/duckduckgo.svg";break;case"https://www.reddit.com/":l="/assets/images/reddit.png";break;case"https://twitter.com/":l="/assets/images/twitter.png";break;case"https://github.com/":l="/assets/images/github.png"}}return t.id===n.BSO.REFERER?i.createElement("a",{...e?.value?{target:"_blank",rel:"noreferrer",href:`${e?.value}`}:{},className:"d-block position-relative px-20 py-sm text-gray-900 table-link"},i.createElement("div",{className:"position-absolute top-0 start-0 h-100 z-0 table-link-bg",style:{width:`${(s.cells[1]?.value/a*100)?.toString()}%`}}),i.createElement("div",{className:"position-relative z-1 text-ellipsis line-clamp-1 pe-20"},i.createElement("div",{className:"position-relative table-link-text"},l?i.createElement(o.A,{className:"me-sm object-fit-contain",style:{width:22,height:22},src:n._K2.PUBLIC_URL+l,alt:"icons"}):i.createElement("div",{style:{width:22,height:22},className:"me-sm d-inline-block"}),e?.value?e?.value:"Direct / None"))):i.createElement("div",{className:"px-15 text-end"},e?.value??null)}}))),l=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})));return{header:s,data:l}}return{header:[],data:[]}})),(0,s.Mu)(this,"toEventsTypeTableTop",(()=>{const e=["text_keyword","txt_unique_visitors","txt_visitors"],t=[n.uzr.EVENT_NAME,n.uzr.UNIQUE_VISITOR,n.uzr.TOTAL_VISITOR];if(this.data?.length){const a=t.map(((t,a)=>({Header:e[a],accessor:t,allowSort:!0,width:t===n.uzr.EVENT_NAME?250:t===n.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,Cell:({cell:e,column:t})=>i.createElement(i.Fragment,null,t.id===n.uzr.EVENT_NAME?i.createElement("div",{className:"d-flex align-items-center text-capitalize py-sm position-relative "+(0===a?"pe-20":"px-20")},i.createElement("div",{className:"z-1"},""===e?.value?"Unknown":e?.value)):i.createElement("div",{className:" text-end"},n.HP2.numberWithCommas(e?.value)??null))}))),s=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),l=s?.map((e=>{for(let a in e)t.includes(a)||delete e[a];return e}));return{header:a,data:l}}return{header:[],data:[]}})),(0,s.Mu)(this,"toAttributeTableTop",(()=>{const e=["text_campaign","txt_page_views","txt_unique_page_views","txt_visitors","txt_bounce_rate","txt_avg_page_session","txt_avg_session_duration"],t=[n.uu_.VALUE,n.CEO.NUMBER_OF_PAGE_VIEWS,n.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS,n.CEO.NUMBER_OF_VISITORS,n.CEO.BOUNCE_RATE,n.CEO.NUMBER_OF_PAGES_PER_SESSION,n.CEO.AVERAGE_SESSION_DURATION];if(this.data?.length>0){const a=t.map(((t,a)=>({Header:e[a],accessor:t,allowSort:!0,width:t===n.uu_.VALUE&&250,Cell:({cell:e,column:t})=>i.createElement(i.Fragment,null,t.id===n.uu_.VALUE?i.createElement("div",{className:"d-flex align-items-center text-capitalize py-sm position-relative "+(0===a?"pe-20":"px-20")},i.createElement("div",{className:"z-1"},""===e?.value?"Unknown":e?.value)):i.createElement("div",{className:" text-end"},n.HP2.numberWithCommas(e?.value)??null))}))),s=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),l=s?.map((e=>{for(let a in e)t.includes(a)||delete e[a];return e}));return{header:a,data:l}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}}},44354:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(46942),i=a.n(s),l=a(96540),r=a(5556),n=a.n(r),o=a(36519),c=a(74848);n().string,n().bool,n().bool,n().bool,n().bool;const m=l.forwardRef((({bsPrefix:e,className:t,fluid:a=!1,rounded:s=!1,roundedCircle:l=!1,thumbnail:r=!1,...n},m)=>(e=(0,o.oU)(e,"img"),(0,c.jsx)("img",{ref:m,...n,className:i()(t,a&&`${e}-fluid`,s&&"rounded",l&&"rounded-circle",r&&`${e}-thumbnail`)}))));m.displayName="Image";const d=m}}]);