"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[5321],{65321:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var i,a=s(64942),l=s(93811),o=s(74081),n=s(92458),r=(s(44368),s(50629),s(57662),s(59283)),d=(s(13899),s(51751)),c=s(53800),m=s(55688),h=s(96540),p=s(44479),g=s(61105),w=s(32389),u=s(44015),E=s(66683),v=s(54625),_=s(56347),x=s(95093),f=s.n(x),b=s(75056),M=s(55265),y=(s(12627),s(67658)),N=(0,u.PA)(class extends h.Component{constructor(e){super(e),(0,m.Mu)(this,"handleSortCountries",(async e=>{this.listViewModel.getCountries({...this.props.domain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByCountries["sort_direction[]"]?"asc":"desc"})})),(0,m.Mu)(this,"handleSortCities",(async e=>{this.listViewModel.getCities({...this.props.domain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByCities["sort_direction[]"]?"asc":"desc"})})),(0,m.Mu)(this,"handleSortBrowsers",(async e=>{this.listViewModel.getBrowsers({...this.props.domain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByBrowsers["sort_direction[]"]?"asc":"desc"})})),(0,m.Mu)(this,"handleSortDevices",(async e=>{this.listViewModel.getDevices({...this.props.domain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByDevices["sort_direction[]"]?"asc":"desc"})})),(0,m.Mu)(this,"handleSortLanguages",(async e=>{this.listViewModel.getLanguages({...this.props.domain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.listViewModel?.sortByLanguages["sort_direction[]"]?"asc":"desc"})}));const{listViewModel:t}=e;this.listViewModel=t||null,this.state={loading:!1}}render(){const{t:e}=this.props,{statusTopTable:t}=this.listViewModel;return h.createElement("div",{className:"position-relative h-100"},h.createElement(b.A.Container,{id:"left-tabs-example",defaultActiveKey:"country"},h.createElement(p.A,{className:"gx-24"},h.createElement(g.A,{sm:3,id:"customCol"},h.createElement("div",{className:"bg-white rounded-3 pe-24 shadow-sm h-100 position-relative"},h.createElement(M.A,{variant:"pills",className:"flex-column"},h.createElement(M.A.Item,null,h.createElement(M.A.Link,{eventKey:"country",className:"ps-32px"},e("txt_countries"))),h.createElement(M.A.Item,null,h.createElement(M.A.Link,{eventKey:"city",className:"ps-32px"},e("txt_cities"))),h.createElement(M.A.Item,null,h.createElement(M.A.Link,{eventKey:"browser",className:"ps-32px"},e("txt_browser"))),h.createElement(M.A.Item,null,h.createElement(M.A.Link,{eventKey:"device",className:"ps-32px"},e("txt_devices"))),h.createElement(M.A.Item,null,h.createElement(M.A.Link,{eventKey:"language",className:"ps-32px"},e("txt_language")))))),h.createElement(g.A,{sm:9},h.createElement("div",{className:"bg-white rounded-3 shadow-sm h-100 position-relative"},h.createElement("div",{className:"text-end p-3"},this.props.integration?h.createElement("a",{href:"#",onClick:e=>this.props.handleChangeLink(e,"/visitors-locations"),className:"text-success me-2 text-nowrap fw-semibold"},e("txt_view_more")):h.createElement(v.N_,{to:"/visitors/locations",className:"text-success me-2 text-nowrap fw-semibold"},e("txt_view_more"))),h.createElement(b.A.Content,null,h.createElement(b.A.Pane,{eventKey:"country"},h.createElement(o.Y,{data:this.listViewModel?.countriesTableData?.list,pagination:this.listViewModel?.countriesTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterCountries({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterCountries({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortCountries,sortBy:this.listViewModel?.sortByCountries,...this.props})),h.createElement(b.A.Pane,{eventKey:"city"},h.createElement(o.Y,{data:this.listViewModel?.citiesTableData?.list,pagination:this.listViewModel?.citiesTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterCities({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterCities({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortCities,sortBy:this.listViewModel?.sortByCities,...this.props})),h.createElement(b.A.Pane,{eventKey:"browser"},h.createElement(o.Y,{data:this.listViewModel?.browsersTableData?.list,pagination:this.listViewModel?.browsersTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterBrowsers({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterBrowsers({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortBrowsers,sortBy:this.listViewModel?.sortByBrowsers,...this.props})),h.createElement(b.A.Pane,{eventKey:"device"},h.createElement(o.Y,{data:this.listViewModel?.devicesTableData?.list,pagination:this.listViewModel?.devicesTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterDevices({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterDevices({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortDevices,sortBy:this.listViewModel?.sortByDevices,...this.props})),h.createElement(b.A.Pane,{eventKey:"language"},h.createElement(o.Y,{data:this.listViewModel?.languagesTableData?.list,pagination:this.listViewModel?.languagesTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterLanguages({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterLanguages({page:1,page_size:e})},status:t,sortAPI:!0,handleSort:this.handleSortLanguages,sortBy:this.listViewModel?.sortByLanguages,...this.props}))))))))}}),V=(0,w.CI)()((0,_.y)(N)),C=(0,u.PA)((i=class extends h.Component{constructor(e){super(e),(0,m.Mu)(this,"componentDidMount",(()=>{this.visitorsListViewModel.initialize({...this.context.biListViewModel.activeDomain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})})})),(0,m.Mu)(this,"componentDidUpdate",(e=>{this.props.location===e.location&&this.props.activeDomain===e.activeDomain||this.visitorsListViewModel.initialize({...this.context.biListViewModel.activeDomain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})})})),(0,m.Mu)(this,"handleDateRangeChange",((e,t)=>{this.visitorsListViewModel.handleFilterDateRange(e??t,t??e)})),(0,m.Mu)(this,"handleSortFlowList",(async e=>{this.visitorsListViewModel.getFlowList({...this.props.domain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"with[]":"events"},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.visitorsListViewModel?.sortBy["sort_direction[]"]?"asc":"desc"})})),(0,m.Mu)(this,"handleChangeLink",((e,t)=>{e.preventDefault(),t&&this.context.biListViewModel.setIntegrationLink(t)}));const{viewModel:t}=e;this.viewModel=t||null,this.visitorsListViewModel=this.viewModel?this.viewModel.getVisitorsListViewModel():null}render(){const{t:e}=this.props;return h.createElement("div",{className:"py-4 px-4"},h.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24"},h.createElement("div",null,h.createElement("h2",{className:"fw-medium mb-3 mt-3"},e("txt_visitors"))),h.createElement("div",{className:"position-relative havePrintButton"},h.createElement(r.K,{onChange:this.handleDateRangeChange}))),h.createElement(p.A,{className:"mb-24"},h.createElement(g.A,{lg:"3"},h.createElement("div",{className:"bg-white shadow-sm rounded-3 h-100 d-flex flex-column"},h.createElement("div",{className:"p-32px d-flex flex-column flex-grow-1"},h.createElement("div",{className:"bg-white pb-20 rounded-3  fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},h.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_visitors")),h.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},E.HP2.numberWithCommas(this.visitorsListViewModel.metricsData?.[E.CEO.TOTAL_NUMBER_OF_VISITORS]))),h.createElement("div",{className:"bg-white pb-20 rounded-3  fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},h.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_unique_visitors")),h.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},E.HP2.numberWithCommas(this.visitorsListViewModel.metricsData?.[E.CEO.NUMBER_OF_VISITORS]))),h.createElement("div",{className:"bg-white pb-20 rounded-3  fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},h.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_average_visit_duration")),h.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},this.visitorsListViewModel?.metricsData?.[E.CEO.AVERAGE_SESSION_DURATION]?f().utc(1e3*this.visitorsListViewModel?.metricsData?.[E.CEO.AVERAGE_SESSION_DURATION]).format("m [min] s [s]"):"0 min 0s")),h.createElement("div",{className:"bg-white pb-20 rounded-3  fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},h.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_page_views")),h.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},E.HP2.numberWithCommas(this.visitorsListViewModel.metricsData?.[E.CEO.NUMBER_OF_PAGE_VIEWS]))),h.createElement("div",{className:"bg-white rounded-3 fw-medium d-flex flex-column flex-grow-1 align-items-start justify-content-center"},h.createElement("h5",{className:"fs-6 mb-14px text-gray-900 fw-medium",style:{fontSize:"16px"}},e("txt_bounce_rate")),h.createElement("div",{className:"fs-24 d-flex align-items-center",style:{fontSize:"24px"}},E.HP2.numberWithCommas(this.visitorsListViewModel.metricsData?.[E.CEO.BOUNCE_RATE])+"%"))))),h.createElement(g.A,{lg:9},h.createElement(n.q,{bars:["unique_visits","visits"],barColors:["#0066FF","#96C0FF"],isSelection:!1,listViewModel:this.visitorsListViewModel,status:this.visitorsListViewModel?.statusOverview,data:this.visitorsListViewModel?.visitsData?.toAreaChart(),filterData:this.visitorsListViewModel?.visitsData?.getFilterName()}))),h.createElement(V,{listViewModel:this.visitorsListViewModel,domain:this.context.biListViewModel.activeDomain,handleChangeLink:this.handleChangeLink,...this.props}),h.createElement("div",{className:"position-relative ChartWrapper my-4 bg-white rounded-3 p-3"},h.createElement("div",{className:"d-flex align-items-center justify-content-between"},h.createElement("h4",{className:"ps-3"},e("txt_user_experience")),this.props.integration?h.createElement("a",{href:"#",onClick:e=>this.handleChangeLink(e,"/flow-list"),className:"text-success me-2 text-nowrap fw-semibold"},e("txt_view_more")):h.createElement(v.N_,{to:"/flow-list",className:"text-success me-2 text-nowrap fw-semibold"},e("txt_view_more"))),this.visitorsListViewModel?.statusFlowList===d.s.LOADING?h.createElement(y.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):this.visitorsListViewModel?.flowListTableData?.list?h.createElement(a.L,{data:this.visitorsListViewModel?.flowListTableData?.list?.toFlowListTable(this.props.integration),isPagination:!1,pagination:this.visitorsListViewModel?.flowListTableData?.pagination,selectPage:async e=>{await this.visitorsListViewModel.handleFilterFlowList({page:e})},selectPageSize:async e=>{await this.visitorsListViewModel.handleFilterFlowList({page:1,page_size:e})},status,sortAPI:!0,handleSort:this.handleSortFlowList,sortBy:this.visitorsListViewModel?.sortByFlowList,...this.props}):h.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},h.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},h.createElement(r.J,{icons:E._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:e("txt_no_data"),width:"w-50"})))))}},(0,m.Mu)(i,"contextType",c.Dx),i)),S=(0,w.CI)()((0,_.y)((0,l.U)(C)))},64942:(e,t,s)=>{s.d(t,{L:()=>m});var i=s(57662),a=s(59283),l=s(13899),o=s(66683),n=s(96540),r=s(32389),d=s(67008),c=s(67658),m=(0,r.CI)()((e=>{const{data:t,t:s,isPagination:r=!0,simplePagination:m=!1,pagination:h,selectPage:p,selectPageSize:g,status:w,limit:u,isPaginationAPI:E=!!r,sortAPI:v,handleSort:_,sortBy:x}=e,f=n.useMemo((()=>t?.header.map(((e,i)=>{let a="";switch(e?.accessor){case o.CEO.NUMBER_OF_VISITORS:case o.CEO.NUMBER_OF_PAGE_VIEWS:case o.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS:case o.CEO.BOUNCE_RATE:case o.CEO.NUMBER_OF_PAGES_PER_SESSION:case o.CEO.AVERAGE_SESSION_DURATION:break;default:a=""}return{...e,className:`px-3 py-16 fs-sm fw-semibold border-bottom ${i+1===t?.header.length?"rounded-top-end-3":""} ${0===i?"rounded-top-start-3":""}`,width:e.width?e.width:0===i?"auto":170,allowSort:e?.allowSort||!1,Header:n.createElement("span",{className:"align-middle position-relative","data-tooltip-id":"tooltipTable","data-tooltip-content":s(a),"data-tooltip-place":""+(i===t?.header?.length-1?"top-end":"top")},s(e.Header),a&&n.createElement(n.Fragment,null,n.createElement("div",{className:"mx-sm fs-12 mb-1",style:{position:"absolute",right:"-5px",top:"-12px"}},n.createElement(l.I,{url:o._K2.PUBLIC_URL+"/assets/images/info.svg",width:"12px",height:"12px",color:"#5F5E70"})),n.createElement(d.m_,{id:"tooltipTable"})))}}))),[t?.header]),b=n.useMemo((()=>t?.data),[t?.data]);return n.createElement("div",{className:"h-100 position-relative"},w===c.Zg.LOADING?n.createElement(c.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?n.createElement(i.x,{classNameTable:"mb-0",columns:f,data:b,canSort:!0,pagination:r,paginationClass:"fs-14 border-top mt-2",isPaginationAPI:E,paginationResponse:h,selectPage:p,selectPageSize:g,simplePagination:m,limit:u,sortAPI:v,sortAPIHandle:_,sortBy:x}):n.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},n.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},n.createElement(a.J,{icons:o._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:s("txt_no_data"),width:"w-50"}))))}))},92458:(e,t,s)=>{s.d(t,{q:()=>d});var i=s(44368),a=s(96540),l=s(32389),o=s(44015),n=s(56347),r=(0,o.PA)(class extends a.Component{constructor(e){super(e);const{listViewModel:t}=e;this.listViewModel=t||null,this.state={loading:!1}}render(){const{t:e,status:t,bars:s,barColors:l,data:o,filterData:n,chartTitle:r}=this.props;return a.createElement("div",{className:"position-relative h-100"},a.createElement(i.n,{height:450,data:o,colors:["#1AB394"],layout:"horizontal",barColors:l,bars:s,hiddenGrid:{vertical:!1},XAxisOptions:{axisLine:!0,padding:{left:50,right:50}},defaultValue:{label:"Visitors",value:"visitors"},options:[{label:"Visitors",value:"visitors"}],loading:t,tooltipComponent:{header:e("txt_in_total"),value:1===s?.length&&s[0]+":"},status:t,filterData:n,isSelection:!1,isLegend:!0,filterButtons:["days","months","weeks"],chartTitle:r}))}}),d=(0,l.CI)()((0,n.y)(r))},74081:(e,t,s)=>{s.d(t,{Y:()=>p});var i=s(57662),a=s(59283),l=s(13899),o=s(51751),n=s(96540),r=s(32389),d=s(56347),c=s(67658),m=s(66683),h=s(67008),p=(0,r.CI)()((0,d.y)((e=>{const{data:t,isPagination:s=!0,simplePagination:r=!1,pagination:d,selectPage:p,selectPageSize:g,status:w,limit:u,isPaginationAPI:E=!!s,t:v,sortAPI:_,handleSort:x,sortBy:f,tableClass:b,tdClass:M}=e,y=n.useMemo((()=>t?.header?.map(((e,s)=>{let i="";switch(e?.accessor){case m.CEO.NUMBER_OF_VISITORS:i="txt_tooltip_visitors";break;case m.CEO.NUMBER_OF_PAGE_VIEWS:i="txt_tooltip_page_views";break;case m.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS:i="txt_tooltip_unique_page_views";break;case m.CEO.BOUNCE_RATE:i="txt_tooltip_bounce_rate";break;case m.CEO.NUMBER_OF_PAGES_PER_SESSION:i="txt_tooltip_page_session";break;case m.CEO.AVERAGE_SESSION_DURATION:i="txt_tooltip_avg_session_duration";break;default:i=""}return{...e,className:`py-16 fs-sm fw-semibold border-bottom border-gray-800 align-middle ${0!==s?"px-15 rounded-top-end-3 text-end":"pe-15"} ${0===s?"rounded-top-start-3":""}`,width:e.width?e.width:0===s?"auto":170,allowSort:e?.allowSort||!1,Header:n.createElement("span",{className:"align-middle text-gray-900 fw-medium position-relative","data-tooltip-place":""+(s===t?.header?.length-1?"top-end":"top"),"data-tooltip-id":"tooltipTable","data-tooltip-content":v(i)},v(e.Header),i&&n.createElement(n.Fragment,null,n.createElement("div",{className:"mx-sm fs-12 mb-1",style:{position:"absolute",right:"-5px",top:"-12px"}},n.createElement(l.I,{url:m._K2.PUBLIC_URL+"/assets/images/info.svg",width:"12px",height:"12px",color:"#5F5E70"})),n.createElement(h.m_,{id:"tooltipTable"})))}}))),[t?.header]),N=n.useMemo((()=>t?.data),[t?.data]);return n.createElement(n.Fragment,null,w===o.s.LOADING?n.createElement(c.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?n.createElement(i.x,{classNameTable:`mb-0 ${b}`,columns:y,data:N,canSort:!0,pagination:s,paginationClass:"fs-14 border-top mt-2",isPaginationAPI:E,paginationResponse:d,selectPage:p,selectPageSize:g,simplePagination:r,limit:u,sortAPI:_,sortAPIHandle:x,sortBy:f,tdClass:M||"py-2"}):n.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},n.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},n.createElement(a.J,{icons:m._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:v("txt_no_data"),width:"w-50"}))))})))}}]);