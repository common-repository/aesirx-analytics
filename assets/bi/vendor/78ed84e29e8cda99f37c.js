/*! For license information please see 78ed84e29e8cda99f37c.js.LICENSE.txt */
"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[5703],{5703:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ot});var s={};n.r(s),n.d(s,{hasBrowserEnv:()=>Re,hasStandardBrowserEnv:()=>Ae,hasStandardBrowserWebWorkerEnv:()=>_e});var r=n(54283),a=n(23804),o=n(4692),i=n(91103),l=(n(13899),n(51751)),c=n(53800),u=n(55688),d=n(96540),m=n(44015),f=n(27813),h=n(66683),p=n(67658),g=n(95093),E=n.n(g),w=n(32389),b=n(56347),v=n(44479),S=n(61105),y=n(44354),N=n(20982),T=n(66188),R=n(418);function A(e,t){return function(){return e.apply(t,arguments)}}const{toString:O}=Object.prototype,{getPrototypeOf:_}=Object,M=(x=Object.create(null),e=>{const t=O.call(e);return x[t]||(x[t]=t.slice(8,-1).toLowerCase())});var x;const D=e=>(e=e.toLowerCase(),t=>M(t)===e),C=e=>t=>typeof t===e,{isArray:k}=Array,L=C("undefined");const F=D("ArrayBuffer");const j=C("string"),U=C("function"),P=C("number"),V=e=>null!==e&&"object"==typeof e,I=e=>{if("object"!==M(e))return!1;const t=_(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},B=D("Date"),J=D("File"),H=D("Blob"),z=D("FileList"),Y=D("URLSearchParams");function q(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let s,r;if("object"!=typeof e&&(e=[e]),k(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let o;for(s=0;s<a;s++)o=r[s],t.call(null,e[o],o,e)}}function W(e,t){t=t.toLowerCase();const n=Object.keys(e);let s,r=n.length;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const $="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,X=e=>!L(e)&&e!==$;const G=(K="undefined"!=typeof Uint8Array&&_(Uint8Array),e=>K&&e instanceof K);var K;const Q=D("HTMLFormElement"),Z=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ee=D("RegExp"),te=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};q(n,((n,r)=>{let a;!1!==(a=t(n,r,e))&&(s[r]=a||n)})),Object.defineProperties(e,s)},ne="abcdefghijklmnopqrstuvwxyz",se="0123456789",re={DIGIT:se,ALPHA:ne,ALPHA_DIGIT:ne+ne.toUpperCase()+se};const ae=D("AsyncFunction"),oe={isArray:k,isArrayBuffer:F,isBuffer:function(e){return null!==e&&!L(e)&&null!==e.constructor&&!L(e.constructor)&&U(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||U(e.append)&&("formdata"===(t=M(e))||"object"===t&&U(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&F(e.buffer),t},isString:j,isNumber:P,isBoolean:e=>!0===e||!1===e,isObject:V,isPlainObject:I,isUndefined:L,isDate:B,isFile:J,isBlob:H,isRegExp:ee,isFunction:U,isStream:e=>V(e)&&U(e.pipe),isURLSearchParams:Y,isTypedArray:G,isFileList:z,forEach:q,merge:function e(){const{caseless:t}=X(this)&&this||{},n={},s=(s,r)=>{const a=t&&W(n,r)||r;I(n[a])&&I(s)?n[a]=e(n[a],s):I(s)?n[a]=e({},s):k(s)?n[a]=s.slice():n[a]=s};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&q(arguments[e],s);return n},extend:(e,t,n,{allOwnKeys:s}={})=>(q(t,((t,s)=>{n&&U(t)?e[s]=A(t,n):e[s]=t}),{allOwnKeys:s}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,s)=>{let r,a,o;const i={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)o=r[a],s&&!s(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==n&&_(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:M,kindOfTest:D,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return-1!==s&&s===n},toArray:e=>{if(!e)return null;if(k(e))return e;let t=e.length;if(!P(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const n=s.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const s=[];for(;null!==(n=e.exec(t));)s.push(n);return s},isHTMLForm:Q,hasOwnProperty:Z,hasOwnProp:Z,reduceDescriptors:te,freezeMethods:e=>{te(e,((t,n)=>{if(U(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const s=e[n];U(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},s=e=>{e.forEach((e=>{n[e]=!0}))};return k(e)?s(e):s(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:W,global:$,isContextDefined:X,ALPHABET:re,generateString:(e=16,t=re.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n},isSpecCompliantForm:function(e){return!!(e&&U(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,s)=>{if(V(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[s]=e;const r=k(e)?[]:{};return q(e,((e,t)=>{const a=n(e,s+1);!L(a)&&(r[t]=a)})),t[s]=void 0,r}}return e};return n(e,0)},isAsyncFn:ae,isThenable:e=>e&&(V(e)||U(e))&&U(e.then)&&U(e.catch)};function ie(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}oe.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const le=ie.prototype,ce={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ce[e]={value:e}})),Object.defineProperties(ie,ce),Object.defineProperty(le,"isAxiosError",{value:!0}),ie.from=(e,t,n,s,r,a)=>{const o=Object.create(le);return oe.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ie.call(o,e.message,t,n,s,r),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const ue=ie;function de(e){return oe.isPlainObject(e)||oe.isArray(e)}function me(e){return oe.endsWith(e,"[]")?e.slice(0,-2):e}function fe(e,t,n){return e?e.concat(t).map((function(e,t){return e=me(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const he=oe.toFlatObject(oe,{},null,(function(e){return/^is[A-Z]/.test(e)}));const pe=function(e,t,n){if(!oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!oe.isUndefined(t[e])}))).metaTokens,r=n.visitor||c,a=n.dots,o=n.indexes,i=(n.Blob||"undefined"!=typeof Blob&&Blob)&&oe.isSpecCompliantForm(t);if(!oe.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(oe.isDate(e))return e.toISOString();if(!i&&oe.isBlob(e))throw new ue("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(e)||oe.isTypedArray(e)?i&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let i=e;if(e&&!r&&"object"==typeof e)if(oe.endsWith(n,"{}"))n=s?n:n.slice(0,-2),e=JSON.stringify(e);else if(oe.isArray(e)&&function(e){return oe.isArray(e)&&!e.some(de)}(e)||(oe.isFileList(e)||oe.endsWith(n,"[]"))&&(i=oe.toArray(e)))return n=me(n),i.forEach((function(e,s){!oe.isUndefined(e)&&null!==e&&t.append(!0===o?fe([n],s,a):null===o?n:n+"[]",l(e))})),!1;return!!de(e)||(t.append(fe(r,n,a),l(e)),!1)}const u=[],d=Object.assign(he,{defaultVisitor:c,convertValue:l,isVisitable:de});if(!oe.isObject(e))throw new TypeError("data must be an object");return function e(n,s){if(!oe.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+s.join("."));u.push(n),oe.forEach(n,(function(n,a){!0===(!(oe.isUndefined(n)||null===n)&&r.call(t,n,oe.isString(a)?a.trim():a,s,d))&&e(n,s?s.concat(a):[a])})),u.pop()}}(e),t};function ge(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ee(e,t){this._pairs=[],e&&pe(e,this,t)}const we=Ee.prototype;we.append=function(e,t){this._pairs.push([e,t])},we.toString=function(e){const t=e?function(t){return e.call(this,t,ge)}:ge;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const be=Ee;function ve(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Se(e,t,n){if(!t)return e;const s=n&&n.encode||ve,r=n&&n.serialize;let a;if(a=r?r(t,n):oe.isURLSearchParams(t)?t.toString():new be(t,n).toString(s),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const ye=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ne={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Te={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:be,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Re="undefined"!=typeof window&&"undefined"!=typeof document,Ae=(Oe="undefined"!=typeof navigator&&navigator.product,Re&&["ReactNative","NativeScript","NS"].indexOf(Oe)<0);var Oe;const _e="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Me={...s,...Te};const xe=function(e){function t(e,n,s,r){let a=e[r++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),i=r>=e.length;if(a=!a&&oe.isArray(s)?s.length:a,i)return oe.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o;s[a]&&oe.isObject(s[a])||(s[a]=[]);return t(e,n,s[a],r)&&oe.isArray(s[a])&&(s[a]=function(e){const t={},n=Object.keys(e);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],t[a]=e[a];return t}(s[a])),!o}if(oe.isFormData(e)&&oe.isFunction(e.entries)){const n={};return oe.forEachEntry(e,((e,s)=>{t(function(e){return oe.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),s,n,0)})),n}return null};const De={transitional:Ne,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,r=oe.isObject(e);r&&oe.isHTMLForm(e)&&(e=new FormData(e));if(oe.isFormData(e))return s?JSON.stringify(xe(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return pe(e,new Me.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,s){return Me.isNode&&oe.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=oe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return pe(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,n){if(oe.isString(e))try{return(t||JSON.parse)(e),oe.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||De.transitional,n=t&&t.forcedJSONParsing,s="json"===this.responseType;if(e&&oe.isString(e)&&(n&&!this.responseType||s)){const n=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw ue.from(e,ue.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Me.classes.FormData,Blob:Me.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],(e=>{De.headers[e]={}}));const Ce=De,ke=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Le=Symbol("internals");function Fe(e){return e&&String(e).trim().toLowerCase()}function je(e){return!1===e||null==e?e:oe.isArray(e)?e.map(je):String(e)}function Ue(e,t,n,s,r){return oe.isFunction(s)?s.call(this,t,n):(r&&(t=n),oe.isString(t)?oe.isString(s)?-1!==t.indexOf(s):oe.isRegExp(s)?s.test(t):void 0:void 0)}class Pe{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function r(e,t,n){const r=Fe(t);if(!r)throw new Error("header name must be a non-empty string");const a=oe.findKey(s,r);(!a||void 0===s[a]||!0===n||void 0===n&&!1!==s[a])&&(s[a||t]=je(e))}const a=(e,t)=>oe.forEach(e,((e,n)=>r(e,n,t)));return oe.isPlainObject(e)||e instanceof this.constructor?a(e,t):oe.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a((e=>{const t={};let n,s,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),s=e.substring(r+1).trim(),!n||t[n]&&ke[n]||("set-cookie"===n?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)})),t})(e),t):null!=e&&r(t,e,n),this}get(e,t){if(e=Fe(e)){const n=oe.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}(e);if(oe.isFunction(t))return t.call(this,e,n);if(oe.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fe(e)){const n=oe.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ue(0,this[n],n,t))}return!1}delete(e,t){const n=this;let s=!1;function r(e){if(e=Fe(e)){const r=oe.findKey(n,e);!r||t&&!Ue(0,n[r],r,t)||(delete n[r],s=!0)}}return oe.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const r=t[n];e&&!Ue(0,this[r],r,e,!0)||(delete this[r],s=!0)}return s}normalize(e){const t=this,n={};return oe.forEach(this,((s,r)=>{const a=oe.findKey(n,r);if(a)return t[a]=je(s),void delete t[r];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();o!==r&&delete t[r],t[o]=je(s),n[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,((n,s)=>{null!=n&&!1!==n&&(t[s]=e&&oe.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Le]=this[Le]={accessors:{}}).accessors,n=this.prototype;function s(e){const s=Fe(e);t[s]||(!function(e,t){const n=oe.toCamelCase(" "+t);["get","set","has"].forEach((s=>{Object.defineProperty(e,s+n,{value:function(e,n,r){return this[s].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[s]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}}Pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oe.reduceDescriptors(Pe.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),oe.freezeMethods(Pe);const Ve=Pe;function Ie(e,t){const n=this||Ce,s=t||n,r=Ve.from(s.headers);let a=s.data;return oe.forEach(e,(function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)})),r.normalize(),a}function Be(e){return!(!e||!e.__CANCEL__)}function Je(e,t,n){ue.call(this,null==e?"canceled":e,ue.ERR_CANCELED,t,n),this.name="CanceledError"}oe.inherits(Je,ue,{__CANCEL__:!0});const He=Je;const ze=Me.hasStandardBrowserEnv?{write(e,t,n,s,r,a){const o=[e+"="+encodeURIComponent(t)];oe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oe.isString(s)&&o.push("path="+s),oe.isString(r)&&o.push("domain="+r),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ye(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const qe=Me.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function s(n){let s=n;return e&&(t.setAttribute("href",s),s=t.href),t.setAttribute("href",s),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=s(window.location.href),function(e){const t=oe.isString(e)?s(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const We=function(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r,a=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=s[o];r||(r=l),n[a]=i,s[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-r<t)return;const m=c&&l-c;return m?Math.round(1e3*d/m):void 0}};function $e(e,t){let n=0;const s=We(50,250);return r=>{const a=r.loaded,o=r.lengthComputable?r.total:void 0,i=a-n,l=s(i);n=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const Xe={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let s=e.data;const r=Ve.from(e.headers).normalize();let a,o,{responseType:i,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}if(oe.isFormData(s))if(Me.hasStandardBrowserEnv||Me.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(o=r.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];r.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+n))}const d=Ye(e.baseURL,e.url);function m(){if(!u)return;const s=Ve.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:i&&"text"!==i&&"json"!==i?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:s,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Se(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=m:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(m)},u.onabort=function(){u&&(n(new ue("Request aborted",ue.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new ue("Network Error",ue.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const s=e.transitional||Ne;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new ue(t,s.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,e,u)),u=null},Me.hasStandardBrowserEnv&&(l&&oe.isFunction(l)&&(l=l(e)),l||!1!==l&&qe(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&ze.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===s&&r.setContentType(null),"setRequestHeader"in u&&oe.forEach(r.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),oe.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),i&&"json"!==i&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",$e(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",$e(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{u&&(n(!t||t.type?new He(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===Me.protocols.indexOf(f)?n(new ue("Unsupported protocol "+f+":",ue.ERR_BAD_REQUEST,e)):u.send(s||null)}))}};oe.forEach(Xe,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ge=e=>`- ${e}`,Ke=e=>oe.isFunction(e)||null===e||!1===e,Qe=e=>{e=oe.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let a=0;a<t;a++){let t;if(n=e[a],s=n,!Ke(n)&&(s=Xe[(t=String(n)).toLowerCase()],void 0===s))throw new ue(`Unknown adapter '${t}'`);if(s)break;r[t||"#"+a]=s}if(!s){const e=Object.entries(r).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(Ge).join("\n"):" "+Ge(e[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return s};function Ze(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new He(null,e)}function et(e){Ze(e),e.headers=Ve.from(e.headers),e.data=Ie.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Qe(e.adapter||Ce.adapter)(e).then((function(t){return Ze(e),t.data=Ie.call(e,e.transformResponse,t),t.headers=Ve.from(t.headers),t}),(function(t){return Be(t)||(Ze(e),t&&t.response&&(t.response.data=Ie.call(e,e.transformResponse,t.response),t.response.headers=Ve.from(t.response.headers))),Promise.reject(t)}))}const tt=e=>e instanceof Ve?{...e}:e;function nt(e,t){t=t||{};const n={};function s(e,t,n){return oe.isPlainObject(e)&&oe.isPlainObject(t)?oe.merge.call({caseless:n},e,t):oe.isPlainObject(t)?oe.merge({},t):oe.isArray(t)?t.slice():t}function r(e,t,n){return oe.isUndefined(t)?oe.isUndefined(e)?void 0:s(void 0,e,n):s(e,t,n)}function a(e,t){if(!oe.isUndefined(t))return s(void 0,t)}function o(e,t){return oe.isUndefined(t)?oe.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function i(n,r,a){return a in t?s(n,r):a in e?s(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t)=>r(tt(e),tt(t),!0)};return oe.forEach(Object.keys(Object.assign({},e,t)),(function(s){const a=l[s]||r,o=a(e[s],t[s],s);oe.isUndefined(o)&&a!==i||(n[s]=o)})),n}const st="1.6.8",rt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{rt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const at={};rt.transitional=function(e,t,n){function s(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new ue(s(r," has been removed"+(t?" in "+t:"")),ue.ERR_DEPRECATED);return t&&!at[r]&&(at[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}};const ot={assertOptions:function(e,t,n){if("object"!=typeof e)throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const a=s[r],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new ue("option "+a+" must be "+n,ue.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ue("Unknown option "+a,ue.ERR_BAD_OPTION)}},validators:rt},it=ot.validators;class lt{constructor(e){this.defaults=e,this.interceptors={request:new ye,response:new ye}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=nt(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:r}=t;void 0!==n&&ot.assertOptions(n,{silentJSONParsing:it.transitional(it.boolean),forcedJSONParsing:it.transitional(it.boolean),clarifyTimeoutError:it.transitional(it.boolean)},!1),null!=s&&(oe.isFunction(s)?t.paramsSerializer={serialize:s}:ot.assertOptions(s,{encode:it.function,serialize:it.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&oe.merge(r.common,r[t.method]);r&&oe.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=Ve.concat(a,r);const o=[];let i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!i){const e=[et.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let m=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{m=e(m)}catch(e){t.call(this,e);break}}try{c=et.call(this,m)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Se(Ye((e=nt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],(function(e){lt.prototype[e]=function(t,n){return this.request(nt(n||{},{method:e,url:t,data:(n||{}).data}))}})),oe.forEach(["post","put","patch"],(function(e){function t(t){return function(n,s,r){return this.request(nt(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}lt.prototype[e]=t(),lt.prototype[e+"Form"]=t(!0)}));const ct=lt;class ut{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const s=new Promise((e=>{n.subscribe(e),t=e})).then(e);return s.cancel=function(){n.unsubscribe(t)},s},e((function(e,s,r){n.reason||(n.reason=new He(e,s,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new ut((function(t){e=t})),cancel:e}}}const dt=ut;const mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mt).forEach((([e,t])=>{mt[t]=e}));const ft=mt;const ht=function e(t){const n=new ct(t),s=A(ct.prototype.request,n);return oe.extend(s,ct.prototype,n,{allOwnKeys:!0}),oe.extend(s,n,null,{allOwnKeys:!0}),s.create=function(n){return e(nt(t,n))},s}(Ce);ht.Axios=ct,ht.CanceledError=He,ht.CancelToken=dt,ht.isCancel=Be,ht.VERSION=st,ht.toFormData=pe,ht.AxiosError=ue,ht.Cancel=ht.CanceledError,ht.all=function(e){return Promise.all(e)},ht.spread=function(e){return function(t){return e.apply(null,t)}},ht.isAxiosError=function(e){return oe.isObject(e)&&!0===e.isAxiosError},ht.mergeConfig=nt,ht.AxiosHeaders=Ve,ht.formToJSON=e=>xe(oe.isHTMLForm(e)?new FormData(e):e),ht.getAdapter=Qe,ht.HttpStatusCode=ft,ht.default=ht;const pt=ht;var gt=d.createContext(),Et=({children:e,viewModel:t})=>d.createElement(gt.Provider,{value:t},e),wt=class{constructor(){(0,u.Mu)(this,"getFlowDetail",(async(e,t,n,s)=>{try{const r=new h.L20,a=await r.getFlowDetail(e,t);a?(0,f.h5)((()=>{n(a)})):s({message:"Something went wrong from Server response"})}catch(e){(0,f.h5)((()=>{e.response?.data.message?s({message:e.response?.data?.message}):s({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,u.Mu)(this,"getEvents",(async(e,t,n,s)=>{try{const r=new h.L20,a=await r.getEvents(e,t);a&&"AxiosError"!==a?.name?(0,f.h5)((()=>{n(a)})):s({message:a?.response?.data?.error||"Something went wrong from Server response"})}catch(e){(0,f.h5)((()=>{e.response?.data.message?s({message:e.response?.data?.message}):e.response?.data.error?s({message:e.response?.data?.error}):s({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}}))}},bt=class{constructor(e,t){(0,u.Mu)(this,"data",[]),(0,u.Mu)(this,"globalViewModel",null),(0,u.Mu)(this,"toRaw",(()=>this.data)),(0,u.Mu)(this,"transformResponse",(()=>{let e={};return this.data?.length>0&&this.data?.forEach((t=>{const n=this.data.filter((e=>e[h.sSJ.EVENT_NAME]===t[h.sSJ.EVENT_NAME]));e={...e,[t[h.sSJ.EVENT_NAME]]:n}})),e})),(0,u.Mu)(this,"transformEventsResponse",(()=>{let e={};return this.data?.length>0&&this.data?.forEach((t=>{const n=this.data.filter((e=>e[h.HMX.EVENT_NAME]===t[h.HMX.EVENT_NAME]));e={...e,[t[h.HMX.EVENT_NAME]]:n}})),e})),(0,u.Mu)(this,"toFlowDetailTable",(()=>{const e=["Name","Type","URL","Referer","Time (UTC)",""],t=[h.sSJ.EVENT_NAME,h.sSJ.EVENT_TYPE,h.sSJ.URL,h.sSJ.REFERER,h.sSJ.START_DATE,h.sSJ.UUID];if(this.data.length){const n=t.map(((t,n)=>({Header:e[n],accessor:t,width:t===h.sSJ.UUID?10:t===h.sSJ.EVENT_NAME||t===h.sSJ.EVENT_TYPE?80:170,allowSort:!0,Cell:({cell:e,column:t})=>{if(t.id===h.sSJ.EVENT_NAME&&e?.value)return d.createElement("div",{className:"px-3"},e?.value??null);if(t.id===h.sSJ.UUID)return d.createElement(d.Fragment,null);if(t.id!==h.sSJ.REFERER&&t.id!==h.sSJ.URL||!e?.value)return d.createElement("div",{className:"px-3"},e?.value??null);{const t=new URL(e?.value);let n=""===t?"Unknown":t.pathname+t.search;return d.createElement("a",{href:e?.value,rel:"noreferrer",target:"_blank",className:"px-3 d-block"},n?.length>53?n?.slice(0,53)+"...":n)}}}))),s=this.data.map((e=>({...e,...t.map((t=>t===h.sSJ.START_DATE?{[t]:E()(e[t])?.utc()?.format("HH:mm:ss")}:{[t]:e[t]})).reduce(((e,t)=>({...t,...e})),{})}))),r=s?.map((e=>{for(let n in e)t.includes(n)||delete e[n];return e}));return{header:n,data:r}}return{header:[],data:[]}})),e&&(this.data=e,this.globalViewModel=t)}},vt=class{constructor(e,t,n){(0,u.Mu)(this,"flowStore",null),(0,u.Mu)(this,"behaviorStore",null),(0,u.Mu)(this,"status",l.s.READY),(0,u.Mu)(this,"globalStoreViewModel",null),(0,u.Mu)(this,"data",null),(0,u.Mu)(this,"dataEvents",null),(0,u.Mu)(this,"dataConversion",null),(0,u.Mu)(this,"relatedVisitorData",null),(0,u.Mu)(this,"dataFilter",{}),(0,u.Mu)(this,"getFlowDetail",(async(e,t)=>{this.status=l.s.LOADING,this.dataFilter={...this.dataFilter,...t},"all"===t["filter_not[device]"]&&this.dataFilter["filter_not[device]"]&&delete this.dataFilter["filter_not[device]"],"all"===t["filter[event_name]"]&&this.dataFilter["filter[event_name]"]&&delete this.dataFilter["filter[event_name]"],"clearDataFilter"===t["filter[url]"]&&this.dataFilter["filter[url]"]&&delete this.dataFilter["filter[url]"],await this.flowStore.getFlowDetail(e,this.dataFilter,this.callbackOnDataSuccessHandler,this.callbackOnErrorHandler)})),(0,u.Mu)(this,"getEvents",((e,t)=>{this.status=l.s.LOADING,this.dataFilterEvents={page_size:"1000","filter_not[event_type]":"conversion",...this.dataFilterEvents,...e};const n={...this.globalStoreViewModel.dateFilter,...t};this.flowStore.getEvents(this.dataFilterEvents,n,this.callbackOnDataEventsSuccessHandler,this.callbackOnErrorHandler)})),(0,u.Mu)(this,"getConversion",((e,t)=>{this.status=l.s.LOADING,this.dataFilterConversion={page_size:"1000","filter[event_type]":"conversion",...this.dataFilterConversion,...e};const n={...this.globalStoreViewModel.dateFilter,...t};this.flowStore.getEvents(this.dataFilterConversion,n,this.callbackOnDataConversionSuccessHandler,this.callbackOnErrorHandler)})),(0,u.Mu)(this,"setDataFilter",(e=>{this.dataFilter=e})),(0,u.Mu)(this,"callbackOnErrorHandler",(e=>{this.status=l.s.READY,(0,p.me)(e.message,"error")})),(0,u.Mu)(this,"callbackOnDataSuccessHandler",(e=>{if(e)if(this.status=l.s.READY,this.data=e,e?.events){const t=new bt(e?.events,this.globalStoreViewModel);this.relatedVisitorData=t}else this.status=l.s.ERROR,this.relatedVisitorData=null;else this.status=l.s.ERROR,this.data={}})),(0,u.Mu)(this,"callbackOnDataEventsSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.status=l.s.READY;const t=new o.B(e,this.globalStoreViewModel);this.dataEvents=t}}else this.status=l.s.ERROR,this.dataEvents=[]})),(0,u.Mu)(this,"callbackOnDataConversionSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.status=l.s.READY;const t=new o.B(e,this.globalStoreViewModel);this.dataConversion=t}}else this.status=l.s.ERROR,this.dataConversion=[]})),(0,f.l_)(this),this.flowStore=e,this.behaviorStore=t,this.globalStoreViewModel=n}},St=class{constructor(e,t,n){(0,u.Mu)(this,"flowDetailViewModel",null),(0,u.Mu)(this,"getFlowViewModel",(()=>this.flowDetailViewModel)),t&&(this.flowDetailViewModel=new vt(e,t,n))}},yt=({data:e=[],loading:t=l.s.LOADING})=>d.createElement("div",{className:"row gx-24 mb-24"},e?.length>0?e.map(((e,n)=>d.createElement("div",{className:e.className,key:n},d.createElement("div",{className:"bg-white p-24 shadow-sm rounded-3 h-100"},d.createElement("div",{className:"d-flex justify-content-between position-relative align-items-center"},t===l.s.LOADING?d.createElement(p.ee,{className:"d-flex justify-content-start align-items-center bg-white",size:"10px"}):d.createElement(d.Fragment,null,d.createElement("div",{className:"overflow-hidden"},d.createElement("p",{className:"m-0 text-gray fs-16"},e.title),d.createElement("h3",{className:"mb-0 fw-semibold fs-4"},e?.value)),d.createElement("div",{className:"d-flex flex-wrap align-item-center"},d.createElement("div",{className:"icon-card rounded-circle ",style:{background:e?.iconColor&&(0,i.i)(e?.iconColor,.15)}},d.createElement("span",{className:"icon arrow d-inline-block align-text-bottom ms-auto",style:{WebkitMaskImage:`url(${e?.icon})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",backgroundColor:e?.iconColor&&(0,i.i)(e?.iconColor)}}))))))))):null),Nt=(0,u.f1)((0,r.A)()),Tt=(0,m.PA)((e=>{const[t,n]=(0,d.useState)([]),{t:s}=(0,w.Bd)(),{flowDetailViewModel:{data:r=[],relatedVisitorData:a,getFlowDetail:o,getEvents:i,getConversion:l,dataEvents:u,dataConversion:m,status:f}}=d.useContext(gt),{biListViewModel:{activeDomain:g,dateFilter:A,dataFilter:O,integrationLink:_,setIntegrationLink:M}}=(0,c.jd)(),{uuid:x}=(0,b.g)(),D=R.A.parse(e.location.search),C=e.integration?_?.split("&id=")[1]?_?.split("&id=")[1]:D?.id:x;(0,d.useEffect)((()=>((async()=>{await o(C,{"with[]":"events"}),await i({...g?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"with[]":"events"}),await l({...g?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"with[]":"events"})})(),()=>{})),[g]),(0,d.useEffect)((()=>{window.scrollTo(0,0)}),[]);(0,d.useEffect)((()=>{if(e.integration){(async()=>{if(a?.data?.length&&!t?.length){const e=a.data.reduce(((e,t)=>(e.some((e=>e==t.url))||e.push(t.url),e)),[]),t=await Promise.all(e.map((async e=>await(async e=>{try{const t=await pt.get(e),n=(new DOMParser).parseFromString(t?.data,"text/html"),s=n.querySelector('meta[property="og:image"]'),r=n.querySelector("title");return{url:e,image:s?s.getAttribute("content"):null,title:r?r.innerText:null}}catch(t){return{url:e}}})(e))));n(t)}})()}}),[a?.data]);const k=(0,d.useMemo)((()=>[{className:"col-4",title:s("txt_total_conversions"),icon:h._K2.PUBLIC_URL+"/assets/images/action.svg",iconColor:"#1AB394",value:r?.[h.zSS.CONVERSION]??0},{className:"col-4",title:s("txt_total_events"),icon:h._K2.PUBLIC_URL+"/assets/images/click.png",iconColor:"#1AB394",value:r?.[h.zSS.EVENT]??0},{className:"col-4",title:s("txt_total_actions"),icon:h._K2.PUBLIC_URL+"/assets/images/aim.svg",iconColor:"#1AB394",value:r?.[h.zSS.ACTION]??0}]),[r]),L=(0,d.useMemo)((()=>[{text:s("txt_date"),value:r?.[h.zSS.START]?E().utc(r?.[h.zSS.START]).format("DD-MM-YYYY hh:mm:ss"):""},{text:s("txt_domain"),value:r?.[h.zSS.DOMAIN]??""},{text:s("txt_locale"),value:r?.[h.zSS.GEO]?.country?.name??"unDetected"},{text:s("txt_device"),value:r?.[h.zSS.DEVICE]??""},{text:s("txt_browser"),value:r?.[h.zSS.BROWSER_NAME]??""},{text:s("txt_duration"),value:E().utc(1e3*r?.[h.zSS.DURATION]).format("mm:ss")??0},{text:"UX %",value:(r?.[h.zSS.UX_PERCENT]??0)+"%"},{text:s("txt_page_view"),value:r?.[h.zSS.PAGE_VIEW]??0}]),[r]),F=async e=>{await o(C,{"with[]":"events","filter[event_name]":e?.value})},j=Nt.default.debounce((async e=>{await o(C,{"with[]":"events","filter[url]":e.target?.value?`https://${g}/${e.target?.value}`:"clearDataFilter"})}),400);return d.createElement("div",{className:"py-4 px-4 h-100 d-flex flex-column"},d.createElement("div",{className:"position-relative d-flex align-items-center mb-3"},d.createElement("div",{className:"back_icon d-flex align-items-center justify-content-center cursor-pointer me-1",onClick:t=>{if(e.integration)((e,t)=>{e.preventDefault(),t&&M(t)})(t,"flow-list");else{const e={...O};p.b6.push(`/flow-list?date_end=${A?.date_end}&date_start=${A?.date_start}&domain=${g}&pagination=${O?.pagination?O?.pagination:"1"}&${R.A.stringify(e)}`)}}},d.createElement(N.g,{className:"text-success",icon:T.Wzs})),d.createElement("h2",{className:"fw-bold mb-0"},s("txt_visitor_detail"))),d.createElement("div",{className:"row gx-24 "},d.createElement("div",{className:"col-3"},d.createElement("div",{className:"bg-white p-24 shadow-sm rounded-3"},L?.length?L.map(((e,t)=>d.createElement("div",{key:t,className:`d-flex justify-content-between ${L.length-1===t?"":"mb-3"} `},d.createElement("span",{className:"fw-semibold"},e.text),d.createElement("span",null,e.value)))):null)),d.createElement("div",{className:"col-9"},d.createElement(yt,{loading:f,data:k}),d.createElement(v.A,{className:"mb-2"},u?.toEventsList()?.length&&d.createElement(S.A,{lg:"2",className:"mb-2 mb-lg-0"},d.createElement(p.J0,{defaultValue:{label:"All Events",value:"all"},options:u?.toEventsList(),className:"fs-sm",isBorder:!0,onChange:e=>{F(e)},plColor:"#808495",isSearchable:!1})),m?.toConversionList()?.length&&d.createElement(S.A,{lg:"2",className:"mb-2 mb-lg-0"},d.createElement(p.J0,{defaultValue:{label:"All Conversions",value:"all"},options:m?.toConversionList(),className:"fs-sm",isBorder:!0,onChange:e=>{F(e)},plColor:"#808495",isSearchable:!1})),d.createElement(S.A,{lg:"6",className:"mb-2 mb-lg-0"},d.createElement("span",{className:"search_url d-flex position-relative border rounded-2"},d.createElement("div",{className:"px-2 bg-gray-400 d-flex align-items-center text-nowrap"},"https://",g[0],"/"),d.createElement("input",{placeholder:s("txt_search_url"),onChange:j,className:"form-control pe-2 pe-4 fs-14 border-0 shadow-none p-2"}),d.createElement("i",{className:"text-green position-absolute top-0 bottom-0 end-0 pe-24 d-flex align-items-center"},d.createElement(N.g,{icon:T.MjD}))))),a?.data?.length?d.createElement("div",{className:"bg-white p-24 position-relative ChartWrapper"},f===p.Zg.LOADING?d.createElement(p.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):d.createElement(d.Fragment,null,a?.data?.map(((e,n)=>{const r=t.find((t=>e.url==t.url));return d.createElement("div",{className:"d-flex align-items-center mb-24 flow-detail-item",key:n},d.createElement("div",{className:"flow-detail-item-image me-18px"},d.createElement(y.A,{className:"object-fit-cover rounded-3 overflow-hidden",style:{width:148,height:95},src:e?.[h.HMX.OG_IMAGE]?e?.[h.HMX.OG_IMAGE]:r?.image?r?.image:h._K2.PUBLIC_URL+"/assets/images/default_preview.jpg",alt:"icons"})),d.createElement("div",{className:"flow-detail-item-content d-flex flex-wrap"},d.createElement("div",{className:"fs-14 w-100",style:{color:"#5F5E70"}},E()(e[h.sSJ.START_DATE])?.utc()?.format("HH:mm:ss")),d.createElement("div",{className:"d-flex mb-sm fs-14 fw-medium"},d.createElement("div",{className:`flow_detail_item_content_action ${"visit"==e[h.sSJ.EVENT_NAME]?"visit":e[h.sSJ.EVENT_TYPE]} text-white text-capitalize`},"action"===e[h.sSJ.EVENT_TYPE]?s("txt_visitor"):"conversion"===e[h.sSJ.EVENT_TYPE]?s("txt_conversion"):s("txt_event")),d.createElement("span",{className:"flow_detail_item_content_name ms-sm"},"visit"===e[h.sSJ.EVENT_NAME]?"Visited":"consent"===e[h.sSJ.EVENT_TYPE]&&"3"===e[h.sSJ.ATTRIBUTES]?.find((e=>"tier"===e.name))?.value?"Decentralized Consent":"consent"===e[h.sSJ.EVENT_TYPE]&&"4"===e[h.sSJ.ATTRIBUTES]?.find((e=>"tier"===e.name))?.value?"Decentralized Consent + Shield of Privacy":e[h.sSJ.EVENT_NAME])),(r?.title||e?.[h.HMX.OG_TITLE])&&d.createElement("p",{className:"mb-0 fw-medium w-100 lh-base text-gray-heading fs-14"},e?.[h.HMX.OG_TITLE]??r.title),d.createElement("div",{className:"w-100"},d.createElement("a",{href:`${e[h.sSJ.URL]}`,target:"_blank",rel:"noreferrer",className:"flow_detail_item_content_link fw-semibold"},e[h.sSJ.URL]))))})))):d.createElement(d.Fragment,null))))})),Rt=(0,b.y)(Tt),At=(0,m.PA)(class extends d.Component{constructor(e){super(e),(0,u.Mu)(this,"flowStore",null),(0,u.Mu)(this,"flowViewModel",null),(0,u.Mu)(this,"eventsStore",null);const{viewModel:t}=e;this.viewModel=t||null,this.biListViewModel=this.viewModel?this.viewModel.getBiListViewModel():null,this.flowStore=new wt({}),this.eventsStore=new a.D({}),this.flowViewModel=new St(this.flowStore,this.eventsStore,this.biListViewModel)}render(){return d.createElement(Et,{viewModel:this.flowViewModel},d.createElement(Rt,{...this.props}))}}),Ot=(0,c.cm)((0,b.y)(At))},13899:(e,t,n)=>{n.d(t,{I:()=>r});var s=n(96540);var r=function({url:e,width:t,height:n,color:r,className:a}){return s.createElement("span",{className:`icon d-inline-block align-text-bottom ms-auto ${a}`,style:{WebkitMaskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",width:t??"24px",height:n??"24px",backgroundColor:r?`${r}`:"var(--body-color)"}})}},91103:(e,t,n)=>{n.d(t,{E:()=>u,i:()=>c});var s=n(13899),r=n(51751),a=n(96540),o=n(67658),i=n(66683),l=n(67008);document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode("/*\n * @copyright   Copyright (C) 2022 AesirX. All rights reserved.\n * @license     GNU General Public License version 3, see LICENSE.\n */\n.icon-card {\n  width: 56px;\n  height: 56px;\n}\n.icon-card .icon {\n  width: 100%;\n  height: 100%;\n  background-color: var(--sidebar-menu-item-color);\n}\n\n.icon-grown {\n  width: 18px;\n  height: 18px;\n}"));function c(e,t){var n=parseInt(e.slice(1,3),16),s=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return t?"rgba("+n+", "+s+", "+r+", "+t+")":"rgb("+n+", "+s+", "+r+")"}var u=({title:e,icon:t,iconColor:n,value:u,isIncrease:d,percent:m,textPercent:f,options:h,defaultValue:p,loading:g,tooltip:E})=>{const[w,b]=(0,a.useState)(p??null),[v,S]=(0,a.useState)(u);(0,a.useEffect)((()=>{let e=h?.find((e=>e?.value===w?.value));S(e?e?.actualValue:u)}),[u]);return a.createElement("div",{className:"bg-white p-24 shadow-sm rounded-3 h-100"},a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-16"},a.createElement("div",{className:"d-flex align-items-center position-relative"},t&&a.createElement("div",{className:"icon-card rounded-circle me-16 ",style:{background:c(n,.15)}},a.createElement("span",{className:"icon arrow d-inline-block align-text-bottom ms-auto",style:{WebkitMaskImage:`url(${t})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",backgroundColor:c(n)}})),a.createElement("h6",{className:"mb-0 fw-medium text-gray-900"},e),E&&a.createElement(a.Fragment,null,a.createElement("div",{className:"mx-sm fs-12 mb-1 cursor-pointer","data-tooltip-id":"tooltipTable","data-tooltip-content":E},a.createElement(s.I,{url:i._K2.PUBLIC_URL+"/assets/images/info.svg",width:"12px",height:"12px",color:"#5F5E70"})),a.createElement(l.m_,{id:"tooltipTable"}))),h&&a.createElement(o.J0,{value:w,options:h,className:"fs-sm",isBorder:!0,onChange:e=>{b(e),e?.actualValue&&S(e?.actualValue)},isSearchable:!1})),a.createElement("div",{className:"d-flex justify-content-between position-relative"},g===r.s.LOADING&&a.createElement(o.ee,{className:"d-flex justify-content-start align-items-center bg-white",size:"10px"}),a.createElement("h3",{className:"mb-0 fw-medium fs-24"},v),a.createElement("div",{className:"d-flex flex-wrap align-item-center"},m&&a.createElement("div",{className:"d-flex w-100 mb-sm justify-content-end"},a.createElement("span",{className:"icon-grown arrow d-inline-block align-text-bottom ms-auto text-primary "+(d?"bg-green":"bg-red"),style:{WebkitMaskImage:`url(${i._K2.PUBLIC_URL}${d?"/assets/images/grown-up.svg":"/assets/images/grown-down.svg"})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center"}}),a.createElement("span",{className:(d?"text-green":"text-danger")+" fw-semibold"},d?"+":"-",m)),a.createElement("div",{className:"w-100 text-gray fs-sm text-end"},f))))}},23804:(e,t,n)=>{n.d(t,{D:()=>o});var s=n(55688),r=n(27813),a=n(66683),o=class{constructor(){(0,s.Mu)(this,"getVisitor",(async(e,t,n,s)=>{try{const o=new a.L20,i=await o.getVisitor(e,t);i&&"AxiosError"!==i?.name?(0,r.h5)((()=>{n(i)})):s({message:i?.response?.data?.error||"Something went wrong from Server response"})}catch(e){(0,r.h5)((()=>{e.response?.data.message?s({message:e.response?.data?.message}):e.response?.data.error?s({message:e.response?.data?.error}):s({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,s.Mu)(this,"getAttribute",(async(e,t,n,s)=>{try{const o=new a.L20,i=await o.getAttribute(e,t);i&&"AxiosError"!==i?.name?(0,r.h5)((()=>{n(i)})):s({message:i?.response?.data?.error||"Something went wrong from Server response"})}catch(e){(0,r.h5)((()=>{e.response?.data.message?s({message:e.response?.data?.message}):e.response?.data.error?s({message:e.response?.data?.error}):s({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,s.Mu)(this,"getEvents",(async(e,t,n,s)=>{try{const o=new a.L20,i=await o.getEvents(e,t);i&&"AxiosError"!==i?.name?(0,r.h5)((()=>{n(i)})):s({message:i?.response?.data?.error||"Something went wrong from Server response"})}catch(e){(0,r.h5)((()=>{e.response?.data.message?s({message:e.response?.data?.message}):e.response?.data.error?s({message:e.response?.data?.error}):s({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}}))}}},4692:(e,t,n)=>{n.d(t,{B:()=>c});var s=n(55688),r=n(96540),a=n(66683),o=n(95093),i=n.n(o),l=n(54625),c=class{constructor(e,t){(0,s.Mu)(this,"data",[]),(0,s.Mu)(this,"globalViewModel",null),(0,s.Mu)(this,"toRaw",(()=>this.data)),(0,s.Mu)(this,"transformResponse",(()=>{let e={};return this.data?.length>0&&this.data?.forEach((t=>{const n=this.data.filter((e=>e[a.sSJ.EVENT_NAME]===t[a.sSJ.EVENT_NAME]));e={...e,[t[a.sSJ.EVENT_NAME]]:n}})),e})),(0,s.Mu)(this,"transformEventsResponse",(()=>{let e={};return this.data?.length>0&&this.data?.forEach((t=>{const n=this.data.filter((e=>e[a.HMX.EVENT_NAME]===t[a.HMX.EVENT_NAME]));e={...e,[t[a.HMX.EVENT_NAME]]:n}})),e})),(0,s.Mu)(this,"getFilterName",(()=>{const e=this.transformResponse(),t=Object.keys(e).map((e=>({value:e,label:e})));return t?.unshift({value:"all",label:"All Event"}),t})),(0,s.Mu)(this,"getListLine",(()=>{const e=this.transformResponse();return Object.keys(e).map((e=>e))})),(0,s.Mu)(this,"toAreaChart",(()=>{const e=this.transformEventsResponse(),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=(0,a.jgq)(this.globalViewModel.dateFilter.date_start,this.globalViewModel.dateFilter.date_end),s={},r={all:n.map((t=>({name:t&&i()(t,"YYYY-MM-DD").format("DD"),...Object.keys(e).map((n=>{const s=e[n].filter((e=>e[a.HMX.DATE]===t));return{[n]:s?.length?s[0][a.HMX.TOTAL_VISITOR]:0}})).reduce(((e,t)=>({...t,...e})),{})}))),...Object.keys(e).map((t=>({[t]:n.map((n=>{const s=e[t].filter((e=>e[a.HMX.DATE]===n));return{name:n&&i()(n,"YYYY-MM-DD").format("DD MMM"),[t]:s?.length?s[0][a.HMX.TOTAL_VISITOR]:0}}))}))).reduce(((e,t)=>({...t,...e})),{})},o={all:t.map(((t,n)=>({name:t,...Object.keys(e).map((e=>{const t=this.data?.filter((e=>i()(e[a.HMX.DATE],"YYYY-MM-DD").month()===n))?.reduce(((e,t)=>e+t[a.HMX.TOTAL_VISITOR]),0);return{[e]:t??0}})).reduce(((e,t)=>({...t,...e})),{})}))),...Object.keys(e).map((e=>({[e]:t.map(((t,n)=>{const s=this.data?.filter((e=>i()(e[a.HMX.DATE],"YYYY-MM-DD").month()===n))?.reduce(((e,t)=>e+t[a.HMX.TOTAL_VISITOR]),0);return s?{name:t,[e]:s}:{name:t,[e]:0}}))}))).reduce(((e,t)=>({...t,...e})),{})};n.forEach((t=>{const n=i()(t).startOf("isoWeek").format("YYYY-MM-DD"),r=i()(t).endOf("isoWeek").format("YYYY-MM-DD"),o=`${i()(n).format("DD MMM")} - ${i()(r).format("DD MMM")}`;s[o]||(s[o]={},Object.keys(e).forEach((e=>{s[o][e]=0}))),Object.keys(e).forEach((n=>{const r=e[n].filter((e=>e[a.HMX.DATE]===t));s[o][n]+=r?.length?r[0][a.HMX.TOTAL_VISITOR]:0}))}));return[o,r,{all:Object.keys(s).map((e=>({name:e,...s[e]})))}]})),(0,s.Mu)(this,"toBarChart",(()=>{const e=this.transformEventsResponse();return Object.keys(e).map((t=>({name:t,number:e[t]?.reduce(((e,t)=>e+t[a.HMX.TOTAL_VISITOR]),0)})))})),(0,s.Mu)(this,"handleChangeLink",((e,t)=>{e.preventDefault(),t&&this.globalViewModel.setIntegrationLink(t)})),(0,s.Mu)(this,"toEventTable",(e=>{const t=["Name","Type","URL","Referer","Date",""],n=[a.sSJ.EVENT_NAME,a.sSJ.EVENT_TYPE,a.sSJ.URL,a.sSJ.REFERER,a.sSJ.START_DATE,a.sSJ.UUID];if(this.data.length){const s=n.map(((n,s)=>({Header:t[s],accessor:n,width:n===a.sSJ.UUID?10:n===a.sSJ.EVENT_TYPE?50:170,allowSort:!0,Cell:({cell:t,column:n})=>{if(n.id===a.sSJ.EVENT_NAME&&t?.value)return r.createElement(r.Fragment,null,e?r.createElement("a",{href:"#",onClick:e=>this.handleChangeLink(e,`events-detail&id=${t?.value}`),className:"px-3 text-secondary-50"},r.createElement("span",null,t?.value??null)):r.createElement(l.k2,{to:`/events-detail/${t?.value}`,className:"px-3 text-secondary-50"},t?.value??null));if(n.id===a.sSJ.UUID)return r.createElement(r.Fragment,null);if(n.id!==a.sSJ.REFERER&&n.id!==a.sSJ.URL||!t?.value)return r.createElement("div",{className:"px-3"},t?.value??null);{const e=new URL(t?.value);return r.createElement("div",{className:"px-3"},""===e?"Unknown":e.pathname+e.search)}}}))),o=this.data.map((e=>({...e,...n.map((t=>t===a.sSJ.START_DATE?{[t]:i()(e[t]).format("DD-MM-YYYY HH:mm:ss")}:{[t]:e[t]})).reduce(((e,t)=>({...t,...e})),{})}))),c=o?.map((e=>{for(let t in e)n.includes(t)||delete e[t];return e}));return{header:s,data:c}}return{header:[],data:[]}})),(0,s.Mu)(this,"toEventsList",(()=>{const e=this.data?.length?this.data?.map((e=>({value:e?.event_name,label:e?.event_name}))):[];return[{label:"All Event",value:"all"},...[...new Map(e.map((e=>[e.value,e]))).values()]]})),(0,s.Mu)(this,"toConversionList",(()=>{const e=this.data?.length?this.data?.map((e=>({value:e?.event_name,label:e?.event_name}))):[];return[{label:"All Conversion",value:"all"},...[...new Map(e.map((e=>[e.value,e]))).values()]]})),e&&(this.data=e,this.globalViewModel=t)}}},44354:(e,t,n)=>{n.d(t,{A:()=>d});var s=n(46942),r=n.n(s),a=n(96540),o=n(5556),i=n.n(o),l=n(36519),c=n(74848);i().string,i().bool,i().bool,i().bool,i().bool;const u=a.forwardRef((({bsPrefix:e,className:t,fluid:n=!1,rounded:s=!1,roundedCircle:a=!1,thumbnail:o=!1,...i},u)=>(e=(0,l.oU)(e,"img"),(0,c.jsx)("img",{ref:u,...i,className:r()(t,n&&`${e}-fluid`,s&&"rounded",a&&"rounded-circle",o&&`${e}-thumbnail`)}))));u.displayName="Image";const d=u}}]);