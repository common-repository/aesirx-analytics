"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[4628],{4628:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var s=a(55270),n=a(70427),l=a(89649),i=a(44368),r=(a(50629),a(57662),a(59283)),o=(a(13899),a(51751),a(53800)),c=(a(55688),a(96540)),m=a(32389),d=a(44015),g=a(56347),p=a(418),u=a(44479),v=a(61105),h=a(67658),E=(0,d.PA)((e=>{const{t}=(0,m.Bd)(),{eventsList:{getVisitor:a,getEvents:d,data:g,dataEvents:E,status:F,statusTable:b,sortBy:f,handleFilterDateRange:C,handleFilterTable:w}}=(0,s.Z)(),{biListViewModel:{activeDomain:y}}=(0,o.jd)(),B=(0,c.useCallback)(((e,t)=>{C(e??t,t??e)}),[]),N=p.A.parse(e.location.search);(0,c.useEffect)((()=>((async()=>{a({...y?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"filter_not[event_name]":"visit",...N?.pagination&&{page:N?.pagination}},{},{"sort[]":"start","sort_direction[]":"desc"}),d({...y?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"filter_not[event_name]":"visit"})})(),()=>{})),[y]);return c.createElement("div",{className:"py-4 px-4 h-100 d-flex flex-column"},c.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24 flex-wrap"},c.createElement("div",{className:"position-relative"},c.createElement("h2",{className:"fw-medium mb-3 mt-3"},t("txt_menu_events"))),c.createElement("div",{className:"position-relative havePrintButton haveEventButton"},c.createElement(r.K,{onChange:B}))),c.createElement("div",{className:"row gx-24 mb-24"},c.createElement("div",{className:"col-lg-6 col-12"},c.createElement(n.O,{loading:F,height:390,data:E?.toAreaChart()??[],colors:["#1AB394","#9747FF","#479CFF","#024E6D","#3F51B5","#FFC107","#4CAF50","#FF5722"],areaColors:["#0066FF","#1AB394","#4747EB","#96C0FF","#D5EEFF","#2196F3","#F44336","#FF9800","#00BCD4","#009688","#9C27B0","#E91E63","#673AB7"],lineColors:["#1AB394","#9747FF","#479CFF","#024E6D","#3F51B5","#FFC107","#4CAF50","#FF5722"],lines:E?.getListLine(),filterData:E?.getFilterName(),tooltipComponent:{header:t("txt_number"),value:""},isLegend:!0,filterButtons:["days","weeks","months"]})),c.createElement("div",{className:"col-lg-6 col-12"},c.createElement(i.n,{loading:F,chartTitle:"Event count",height:390,bars:["number"],barColors:["#0066FF"],data:E?.toBarChart(),margin:{left:40},filterButtons:[],isSelection:!1}))),E?.toEventsList()?.length&&c.createElement(u.A,{className:"mb-2"},c.createElement(v.A,{lg:"2"},c.createElement(h.J0,{defaultValue:{label:"All Events",value:"all"},options:E?.toEventsList(),className:"fs-sm",isBorder:!0,onChange:e=>{(async e=>{await a({...y?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"filter[event_name]":e?.value})})(e)},plColor:"#808495",isSearchable:!1}))),c.createElement("div",{className:"row gx-24 mb-24"},c.createElement("div",{className:"col-12 "},g?.list&&c.createElement(l.X,{data:g?.list?.toEventTable(e.integration),pagination:g.pagination,handleFilterTable:w,statusTable:b,isPaginationAPI:!0,handleSort:async e=>{a({...y?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"filter_not[event_name]":"visit"},{},{"sort[]":e?.id,"sort_direction[]":"desc"===f["sort_direction[]"]?"asc":"desc"})},sortBy:f,handleSearch:async e=>{a({...y?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{},{"filter[url]":e})},tdClass:"py-2 align-top",...e}))))})),F=(0,g.y)(E)},89649:(e,t,a)=>{a.d(t,{X:()=>c});var s=a(57662),n=a(59283),l=a(51751),i=a(66683),r=a(67658),o=a(96540),c=(0,a(32389).CI)()((({data:{header:e=[],data:t=[]},pagination:a,handleFilterTable:c,statusTable:m,t:d,isPaginationAPI:g=!1,isTranslate:p=!1,sortAPI:u=!0,handleSort:v,sortBy:h,tdClass:E,limit:F})=>{const b=o.useMemo((()=>e.map(((t,a)=>({...t,className:`py-16 fs-sm fw-semibold border-bottom border-gray-800 align-middle ${a+1===e.length?"rounded-top-end-3":""} ${0===a?"pe-3 rounded-top-start-3":"px-3"}`,width:t?.width??100,allowSort:t?.allowSort||!1,...p?{Header:o.createElement("span",{className:"align-middle text-gray-900 fw-medium"},d(t.Header))}:{}})))),[e]),f=o.useMemo((()=>t),[t]);return o.createElement("div",{className:"h-100 ChartWrapper position-relative"},m===l.s.LOADING?o.createElement(r.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?o.createElement(s.x,{classNameTable:"mb-0",columns:b,data:f,canSort:!0,sortAPI:u,sortAPIHandle:v,sortBy:h,pagination:!0,paginationClass:"fs-14 px-4",isPaginationAPI:g,paginationResponse:a,selectPage:async e=>{await c({page:e})},selectPageSize:async e=>{await c({page:1,page_size:e})},limit:F,tdClass:E}):o.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},o.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},o.createElement(n.J,{icons:i._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:d("txt_no_data"),width:"w-50"}))))}))}}]);