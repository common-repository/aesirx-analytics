/*! For license information please see c5d710f0ca8dbe068863.js.LICENSE.txt */
"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[8398],{58398:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(62810),i=s(93811),r=s(64095),l=s(81210),n=(s(13899),s(88490)),o=s(93336),c=s(51751),d=s(53800),h=s(55688),u=s(96540),E=s(32389),m=s(44015),g=s(56347),_=s(27813),p=s(66683),O=s(67658),w=s(95093),v=s.n(w),S=s(418),N=s(65606),R=class{constructor(){(0,h.Mu)(this,"getMetrics",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getMetrics(e,t);r&&"AxiosError"!==r?.name?(0,_.h5)((()=>{s(r)})):(0,_.h5)((()=>{a({message:r?.response?.data?.error||"Something went wrong from Server response"})}))}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getVisitors",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getVisitors(e,t);r?(0,_.h5)((()=>{s(r)})):a({message:"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getVisits",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getVisits(e,t);r?(0,_.h5)((()=>{s(r)})):a({message:"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getCountries",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getCountries(e,t);r?(0,_.h5)((()=>{s(r)})):a({message:"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getCities",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getCities(e,t);r?(0,_.h5)((()=>{s(r)})):a({message:"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getBrowsers",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getBrowsers(e,t);r?(0,_.h5)((()=>{s(r)})):a({message:"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getDevices",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getDevices(e,t);r?(0,_.h5)((()=>{s(r)})):a({message:"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getLanguages",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getLanguages(e,t);r?(0,_.h5)((()=>{s(r)})):a({message:"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getPages",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getPages(e,t);r?(0,_.h5)((()=>{s(r)})):a({message:"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getPagesCount",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getPages(e,t);r?(0,_.h5)((()=>{s(r)})):a({message:"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}})),(0,h.Mu)(this,"getFlowList",(async(e,t,s,a)=>{try{const i=new p.L20,r=await i.getFlowList(e,t);r&&"AxiosError"!==r?.name?(0,_.h5)((()=>{s(r)})):a({message:r?.response?.data?.error||"Something went wrong from Server response"})}catch(e){(0,_.h5)((()=>{e.response?.data.message?a({message:e.response?.data?.message}):a({message:e?.response?.data?._messages?e.response?.data?._messages[0]?.message:"Something went wrong from Server response"})}))}}))}},M=class{constructor(e,t){(0,h.Mu)(this,"data",[]),(0,h.Mu)(this,"globalViewModel",null),(0,h.Mu)(this,"toRaw",(()=>this.data)),(0,h.Mu)(this,"toCitiesTableTop",(()=>{const e=["txt_City","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[p.NWG.CITY,p.CEO.NUMBER_OF_VISITORS,p.CEO.NUMBER_OF_PAGE_VIEWS,p.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS,p.CEO.BOUNCE_RATE,p.CEO.NUMBER_OF_PAGES_PER_SESSION,p.CEO.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,width:t===p.NWG.CITY?250:t===p.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS||t===p.CEO.AVERAGE_SESSION_DURATION?220:t===p.CEO.NUMBER_OF_VISITORS?140:170,allowSort:!0,Cell:({cell:e,column:t})=>t.id===p.NWG.CITY?u.createElement("div",{className:"px-15"},""===e?.value?"Unknown":e?.value):t.id===p.CEO.BOUNCE_RATE?u.createElement("div",{className:"px-3 text-end"},e?.value+"%"):t.id===p.CEO.AVERAGE_SESSION_DURATION?u.createElement("div",{className:"px-3 text-end"},e?.value?v().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):u.createElement("div",{className:"px-15 text-end"},p.HP2.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),i=a?.map((e=>{for(let s in e)t.includes(s)||delete e[s];return e}));return{header:s,data:i}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}},C=class{constructor(e,t){(0,h.Mu)(this,"data",[]),(0,h.Mu)(this,"globalViewModel",null),(0,h.Mu)(this,"toRaw",(()=>this.data)),(0,h.Mu)(this,"toBrowsersTableTop",(()=>{const e=["txt_browser","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[p.$yQ.BROWSER_NAME,p.CEO.NUMBER_OF_VISITORS,p.CEO.NUMBER_OF_PAGE_VIEWS,p.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS,p.CEO.BOUNCE_RATE,p.CEO.NUMBER_OF_PAGES_PER_SESSION,p.CEO.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,allowSort:!0,width:t===p.$yQ.BROWSER_NAME?250:t===p.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS||t===p.CEO.AVERAGE_SESSION_DURATION?220:t===p.CEO.NUMBER_OF_VISITORS?140:170,Cell:({cell:e,column:t})=>t.id===p.$yQ.BROWSER_NAME?u.createElement("div",{className:"px-15"},""===e?.value?"Unknown":e?.value):t.id===p.CEO.BOUNCE_RATE?u.createElement("div",{className:"px-3 text-end"},e?.value+"%"):t.id===p.CEO.AVERAGE_SESSION_DURATION?u.createElement("div",{className:"px-3 text-end"},e?.value?v().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):u.createElement("div",{className:"px-15 text-end"},p.HP2.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),i=a?.map((e=>{for(let s in e)t.includes(s)||delete e[s];return e}));return{header:s,data:i}}return{header:[],data:[]}})),(0,h.Mu)(this,"toDevicesTableTop",(()=>{const e=["txt_device","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[p.JLh.DEVICE,p.CEO.NUMBER_OF_VISITORS,p.CEO.NUMBER_OF_PAGE_VIEWS,p.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS,p.CEO.BOUNCE_RATE,p.CEO.NUMBER_OF_PAGES_PER_SESSION,p.CEO.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,width:t===p.JLh.DEVICE?250:t===p.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS||t===p.CEO.AVERAGE_SESSION_DURATION?220:t===p.CEO.NUMBER_OF_VISITORS?140:170,allowSort:!0,Cell:({cell:e,column:t})=>t.id===p.JLh.DEVICE?u.createElement("div",{className:"px-15 "+("iPhone"===e?.value||"iPad"===e?.value?"":"text-capitalize")},""===e?.value?"Unknown":e?.value):t.id===p.CEO.BOUNCE_RATE?u.createElement("div",{className:"px-3 text-end"},e?.value+"%"):t.id===p.CEO.AVERAGE_SESSION_DURATION?u.createElement("div",{className:"px-3 text-end"},e?.value?v().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):u.createElement("div",{className:"px-15 text-end"},p.HP2.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),i=a?.map((e=>{for(let s in e)t.includes(s)||delete e[s];return e}));return{header:s,data:i}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}},b=class{constructor(e,t){(0,h.Mu)(this,"data",[]),(0,h.Mu)(this,"globalViewModel",null),(0,h.Mu)(this,"toRaw",(()=>this.data)),(0,h.Mu)(this,"toLanguagesTableTop",(()=>{const e=["txt_language","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[p.Bnr.LANG,p.CEO.NUMBER_OF_VISITORS,p.CEO.NUMBER_OF_PAGE_VIEWS,p.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS,p.CEO.BOUNCE_RATE,p.CEO.NUMBER_OF_PAGES_PER_SESSION,p.CEO.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,allowSort:!0,width:t===p.Bnr.LANG?250:t===p.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS||t===p.CEO.AVERAGE_SESSION_DURATION?220:t===p.CEO.NUMBER_OF_VISITORS?140:170,Cell:({cell:e,column:t})=>t.id===p.Bnr.LANG?u.createElement("div",{className:"px-15"},""===e?.value?"Unknown":e?.value):t.id===p.CEO.BOUNCE_RATE?u.createElement("div",{className:"px-3 text-end"},e?.value+"%"):t.id===p.CEO.AVERAGE_SESSION_DURATION?u.createElement("div",{className:"px-3 text-end"},e?.value?v().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):u.createElement("div",{className:"px-15 text-end"},p.HP2.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),i=a?.map((e=>{for(let s in e)t.includes(s)||delete e[s];return e}));return{header:s,data:i}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}},A=class{constructor(e,t){(0,h.Mu)(this,"visitorsStore",null),(0,h.Mu)(this,"status",c.s.READY),(0,h.Mu)(this,"statusOverview",c.s.READY),(0,h.Mu)(this,"statusMetrics",c.s.READY),(0,h.Mu)(this,"statusTopTable",c.s.READY),(0,h.Mu)(this,"statusPagesCount",c.s.READY),(0,h.Mu)(this,"statusFlowList",c.s.READY),(0,h.Mu)(this,"globalStoreViewModel",null),(0,h.Mu)(this,"metricsData",null),(0,h.Mu)(this,"visitorData",null),(0,h.Mu)(this,"visitsData",null),(0,h.Mu)(this,"countriesTableData",null),(0,h.Mu)(this,"citiesTableData",null),(0,h.Mu)(this,"browsersTableData",null),(0,h.Mu)(this,"devicesTableData",null),(0,h.Mu)(this,"languagesTableData",null),(0,h.Mu)(this,"pagesTableData",null),(0,h.Mu)(this,"pagesCountData",null),(0,h.Mu)(this,"flowListTableData",null),(0,h.Mu)(this,"dataFilterFlowList",{}),(0,h.Mu)(this,"sortBy",{"sort[]":"","sort_direction[]":""}),(0,h.Mu)(this,"sortByCountries",{"sort[]":"","sort_direction[]":""}),(0,h.Mu)(this,"sortByCities",{"sort[]":"","sort_direction[]":""}),(0,h.Mu)(this,"sortByBrowsers",{"sort[]":"","sort_direction[]":""}),(0,h.Mu)(this,"sortByDevices",{"sort[]":"","sort_direction[]":""}),(0,h.Mu)(this,"sortByLanguages",{"sort[]":"","sort_direction[]":""}),(0,h.Mu)(this,"sortByFlowList",{"sort[]":"","sort_direction[]":""}),(0,h.Mu)(this,"sortByPages",{"sort[]":"","sort_direction[]":""}),(0,h.Mu)(this,"initialize",((e,t)=>{if(!t){const e=[this.dataFilter,this.dataFilterCountries,this.dataFilterCities,this.dataFilterBrowsers,this.dataFilterDevices,this.dataFilterLanguages];e?.forEach((e=>{for(const t in e)t.startsWith("filter[domain]")&&delete e[t]}))}this.getMetrics(e,t),this.getVisits(e,t),this.getCountries(e,t),this.getCities(e,t),this.getBrowsers(e,t),this.getDevices(e,t),this.getLanguages(e,t),this.getFlowList(e,t)})),(0,h.Mu)(this,"initializeBehavior",(async(e,t,s)=>{if(!t){const e=[this.dataFilter,this.dataFilterPages];e?.forEach((e=>{for(const t in e)t.startsWith("filter[domain]")&&delete e[t]}))}this.getVisitors(e,t),this.getMetrics(e,t),await this.getPages(e,t,null,s),await this.getPagesCount(e,t,null,s)})),(0,h.Mu)(this,"getMetrics",((e,t)=>{this.statusMetrics=c.s.LOADING,this.dataFilter={...this.dataFilter,...e};const s={...this.globalStoreViewModel.dateFilter,...t};this.visitorsStore.getMetrics(this.dataFilter,s,this.callbackOnMetricsDataSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getVisitors",((e,t)=>{this.statusOverview=c.s.LOADING,this.dataFilter={...this.dataFilter,...e};const s={...this.globalStoreViewModel.dateFilter,...t};this.visitorsStore.getVisitors({...this.dataFilter,page_size:"1000"},s,this.callbackOnVisitorSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getVisits",((e,t)=>{this.statusOverview=c.s.LOADING,this.dataFilter={...this.dataFilter,...e};const s={...this.globalStoreViewModel.dateFilter,...t};this.visitorsStore.getVisits({...this.dataFilter,page_size:"1000"},s,this.callbackOnVisitsSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getCountries",(async(e,t,s={"sort[]":"number_of_visitors","sort_direction[]":"desc"})=>{this.statusTopTable=c.s.LOADING,this.sortByCountries=s,this.dataFilterCountries={page_size:"5",...this.dataFilterCountries,...e,...this.sortByCountries};const a={...this.globalStoreViewModel.dateFilter,...t};await this.visitorsStore.getCountries(this.dataFilterCountries,a,this.callbackOnCountriesSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getCities",(async(e,t,s={"sort[]":"number_of_visitors","sort_direction[]":"desc"})=>{this.statusTopTable=c.s.LOADING,this.sortByCities=s,this.dataFilterCities={page_size:"5",...this.dataFilterCities,...e,...this.sortByCities};const a={...this.globalStoreViewModel.dateFilter,...t};await this.visitorsStore.getCities(this.dataFilterCities,a,this.callbackOnCitiesSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getBrowsers",(async(e,t,s={"sort[]":"number_of_visitors","sort_direction[]":"desc"})=>{this.statusTopTable=c.s.LOADING,this.sortByBrowsers=s,this.dataFilterBrowsers={page_size:"5",...this.dataFilterBrowsers,...e,...this.sortByBrowsers};const a={...this.globalStoreViewModel.dateFilter,...t};await this.visitorsStore.getBrowsers(this.dataFilterBrowsers,a,this.callbackOnBrowsersSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getDevices",(async(e,t,s={"sort[]":"number_of_visitors","sort_direction[]":"desc"})=>{this.statusTopTable=c.s.LOADING,this.sortByDevices=s,this.dataFilterDevices={page_size:"5",...this.dataFilterDevices,...e,...this.sortByDevices};const a={...this.globalStoreViewModel.dateFilter,...t};await this.visitorsStore.getDevices(this.dataFilterDevices,a,this.callbackOnDevicesSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getLanguages",(async(e,t,s={"sort[]":"number_of_visitors","sort_direction[]":"desc"})=>{this.statusTopTable=c.s.LOADING,this.sortByLanguages=s,this.dataFilterLanguages={page_size:"5",...this.dataFilterLanguages,...e,...this.sortByLanguages};const a={...this.globalStoreViewModel.dateFilter,...t};await this.visitorsStore.getLanguages(this.dataFilterLanguages,a,this.callbackOnLanguagesSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getPages",(async(e,t,s={},a={})=>{this.statusTopTable=c.s.LOADING,this.sortBy=s??{"sort[]":"url","sort_direction[]":"asc"},this.sortByPages=s??{"sort[]":"url","sort_direction[]":"asc"},this.search=a,this.dataFilterPages={page_size:"5",...this.dataFilterPages,...e,...this.sortBy,...this.search};const i={...this.globalStoreViewModel.dateFilter,...t};await this.visitorsStore.getPages(this.dataFilterPages,i,this.callbackOnPagesSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getPagesCount",(async(e,t,s={},a={})=>{this.statusPagesCount=c.s.LOADING,this.sortBy=s??{"sort[]":"number_of_visitors","sort_direction[]":"desc"},this.search=a,this.dataFilterPages={page_size:"3",...this.dataFilterPages,...e,...this.sortBy,...this.search};const i={...this.globalStoreViewModel.dateFilter,...t};await this.visitorsStore.getPagesCount(this.dataFilterPages,i,this.callbackOnPagesCountSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"getFlowList",((e,t,s={"sort[]":"start","sort_direction[]":"desc"})=>{this.statusFlowList=c.s.LOADING,this.sortByFlowList=s,this.dataFilter={page_size:"10",...this.dataFilter,...e,...this.sortByFlowList};const a={...this.globalStoreViewModel.dateFilter,...t};this.visitorsStore.getFlowList(this.dataFilter,a,this.callbackOnFlowListSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"handleFilter",(e=>{this.status=c.s.LOADING,this.dataFilter={...this.dataFilter,...e};const t={...this.globalStoreViewModel.dateFilter};this.visitorsStore.getMetrics(this.dataFilter,t,this.callbackOnDataSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"handleFilterCountries",(async e=>{this.statusTopTable=c.s.LOADING,this.dataFilterCountries={...this.dataFilterCountries,...e};const t={...this.globalStoreViewModel.dateFilter};await this.visitorsStore.getCountries(this.dataFilterCountries,t,this.callbackOnCountriesSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"handleFilterCities",(async e=>{this.statusTopTable=c.s.LOADING,this.dataFilterCities={...this.dataFilterCities,...e};const t={...this.globalStoreViewModel.dateFilter};await this.visitorsStore.getCities(this.dataFilterCities,t,this.callbackOnCitiesSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"handleFilterBrowsers",(async e=>{this.statusTopTable=c.s.LOADING,this.dataFilterBrowsers={...this.dataFilterBrowsers,...e};const t={...this.globalStoreViewModel.dateFilter};await this.visitorsStore.getBrowsers(this.dataFilterBrowsers,t,this.callbackOnBrowsersSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"handleFilterDevices",(async e=>{this.statusTopTable=c.s.LOADING,this.dataFilterDevices={...this.dataFilterDevices,...e};const t={...this.globalStoreViewModel.dateFilter};await this.visitorsStore.getDevices(this.dataFilterDevices,t,this.callbackOnDevicesSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"handleFilterLanguages",(async e=>{this.statusTopTable=c.s.LOADING,this.dataFilterLanguages={...this.dataFilterLanguages,...e};const t={...this.globalStoreViewModel.dateFilter};await this.visitorsStore.getLanguages(this.dataFilterLanguages,t,this.callbackOnLanguagesSuccessHandler,this.callbackOnErrorHandler)})),(0,h.Mu)(this,"handleFilterPages",(async e=>{this.statusTopTable=c.s.LOADING,this.dataFilterPages={...this.dataFilterPages,...e};const t={...this.globalStoreViewModel.dateFilter};if(await this.visitorsStore.getPages(this.dataFilterPages,t,this.callbackOnPagesSuccessHandler,this.callbackOnErrorHandler),this.globalStoreViewModel.dataFilter={pagination:this.dataFilterPages?.page},e?.page){const t={...S.A.parse(location.search),pagination:e?.page};window.history.replaceState("","",`/behavior?${S.A.stringify(t)}`)}})),(0,h.Mu)(this,"handleFilterDateRange",((e,t)=>{this.status=c.s.LOADING;let s={date_start:v()(e).format("YYYY-MM-DD"),date_end:v()(t).endOf("day").format("YYYY-MM-DD")};this.initialize(this.dataFilter,s)})),(0,h.Mu)(this,"handleFilterFlowList",(async e=>{const t=history.location;this.status=c.s.LOADING,this.dataFilterFlowList={...this.dataFilter,...e},this.globalStoreViewModel.dataFilter={pagination:this.dataFilterFlowList?.page};const s={...this.globalStoreViewModel.dateFilter};if(await this.visitorsStore.getFlowList(this.dataFilterFlowList,s,this.callbackOnFlowListSuccessHandler,this.callbackOnErrorHandler),e?.page){const s={...S.A.parse(t.search),pagination:e?.page};window.history.replaceState("","",`/flow-list?${S.A.stringify(s)}`)}})),(0,h.Mu)(this,"callbackOnFlowListSuccessHandler",(e=>{if(e){if("canceled"!==e?.message&&"isCancle"!==e?.message){this.status=c.s.READY,this.statusFlowList=c.s.READY;const t=new a.e(e.list,this.globalStoreViewModel);this.flowListTableData={list:t,pagination:e.pagination}}}else this.status=c.s.ERROR,this.statusFlowList=c.s.ERROR,this.data=[]})),(0,h.Mu)(this,"callbackOnErrorHandler",(e=>{this.status=c.s.READY,(0,O.me)(e.message,"error")})),(0,h.Mu)(this,"callbackOnMetricsDataSuccessHandler",(e=>{e?"canceled"!==e?.message&&(this.statusMetrics=c.s.READY,this.metricsData=e):(this.status=c.s.ERROR,this.statusMetrics=c.s.ERROR,this.data=[])})),(0,h.Mu)(this,"callbackOnVisitsSuccessHandler",(e=>{if(e?.length){if("canceled"!==e?.message){this.statusOverview=c.s.READY;const t=new n.W(e,this.globalStoreViewModel);this.visitsData=t}}else this.status=c.s.ERROR,this.statusOverview=c.s.ERROR,this.data=[]})),(0,h.Mu)(this,"callbackOnVisitorSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.statusOverview=c.s.READY;const t=new n.W(e?.list,this.globalStoreViewModel);this.visitorData=t}}else this.status=c.s.ERROR,this.statusOverview=c.s.ERROR,this.data=[]})),(0,h.Mu)(this,"callbackOnCountriesSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.statusTopTable=c.s.READY;const t=new r.U(e.list,this.globalStoreViewModel);this.countriesTableData={list:t.toCountriesTableTop(),pagination:e.pagination}}}else this.status=c.s.ERROR,this.statusTopTable=c.s.ERROR,this.data=[]})),(0,h.Mu)(this,"callbackOnCitiesSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.statusTopTable=c.s.READY;const t=new M(e.list,this.globalStoreViewModel);this.citiesTableData={list:t.toCitiesTableTop(),pagination:e.pagination}}}else this.status=c.s.ERROR,this.statusTopTable=c.s.ERROR,this.data=[]})),(0,h.Mu)(this,"callbackOnBrowsersSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.statusTopTable=c.s.READY;const t=new C(e.list,this.globalStoreViewModel);this.browsersTableData={list:t.toBrowsersTableTop(),pagination:e.pagination}}}else this.status=c.s.ERROR,this.statusTopTable=c.s.ERROR,this.data=[]})),(0,h.Mu)(this,"callbackOnDevicesSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.statusTopTable=c.s.READY;const t=new C(e.list,this.globalStoreViewModel);this.devicesTableData={list:t.toDevicesTableTop(),pagination:e.pagination}}}else this.status=c.s.ERROR,this.statusTopTable=c.s.ERROR,this.data=[]})),(0,h.Mu)(this,"callbackOnLanguagesSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.statusTopTable=c.s.READY;const t=new b(e.list,this.globalStoreViewModel);this.languagesTableData={list:t.toLanguagesTableTop(),pagination:e.pagination}}}else this.status=c.s.ERROR,this.statusTopTable=c.s.ERROR,this.data=[]})),(0,h.Mu)(this,"callbackOnPagesSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.statusTopTable=c.s.READY;const t=new l.P(e.list,this.globalStoreViewModel);this.pagesTableData={list:t,pagination:e.pagination}}}else this.status=c.s.ERROR,this.statusTopTable=c.s.ERROR,this.data=[]})),(0,h.Mu)(this,"callbackOnPagesCountSuccessHandler",(e=>{if(e){if("canceled"!==e?.message){this.statusPagesCount=c.s.READY;const t=new l.P(e.list,this.globalStoreViewModel);this.pagesCountData={list:t,pagination:e.pagination}}}else this.status=c.s.ERROR,this.statusPagesCount=c.s.ERROR,this.data=[]})),(0,_.l_)(this),this.visitorsStore=e,this.globalStoreViewModel=t}},T=class{constructor(e,t){(0,h.Mu)(this,"visitorsListViewModel",null),(0,h.Mu)(this,"getVisitorsListViewModel",(()=>this.visitorsListViewModel)),e&&(this.visitorsListViewModel=new A(e,t))}},I=(0,u.lazy)((()=>Promise.all([s.e(3580),s.e(450),s.e(7360),s.e(8863),s.e(2627),s.e(5321)]).then(s.bind(s,65321)))),F=(0,u.lazy)((()=>Promise.all([s.e(3580),s.e(450),s.e(7360),s.e(8863),s.e(6879)]).then(s.bind(s,46879)))),V=({link:e,...t})=>"behavior"===e?u.createElement(F,{...t}):u.createElement(I,{...t}),U=(0,m.PA)(class extends u.Component{constructor(e){super(e),(0,h.Mu)(this,"VisitorsStore",null),(0,h.Mu)(this,"VisitorsViewModel",null);const{viewModel:t}=e;this.viewModel=t||null,this.biListViewModel=this.viewModel?this.viewModel.getBiListViewModel():null,this.VisitorsStore=new R,this.VisitorsViewModel=new T(this.VisitorsStore,this.biListViewModel)}render(){const{integration:e=!1}=this.props,{integrationLink:t,activeDomain:s}=this.biListViewModel,a=(0,g.B6)(O.b6.location.pathname,{path:N.env.REACT_APP_INTERGRATION?"/bi":"/visitors",exact:!0,strict:!1}),r=(0,g.B6)(O.b6.location.pathname,{path:N.env.REACT_APP_INTERGRATION?"/bi":"/behavior",exact:!0,strict:!1}),l=r?.isExact||"behavior"===t?this?.VisitorsViewModel?.visitorsListViewModel?.pagesTableData?.list?.data:null,n=a?.isExact||"visitors"===t?[{name:"Countries",data:this?.VisitorsViewModel?.visitorsListViewModel?.countriesTableData?.list?.data},{name:"Cities",data:this?.VisitorsViewModel?.visitorsListViewModel?.citiesTableData?.list?.data},{name:"Browsers",data:this?.VisitorsViewModel?.visitorsListViewModel?.browsersTableData?.list?.data},{name:"Devices",data:this?.VisitorsViewModel?.visitorsListViewModel?.devicesTableData?.list?.data},{name:"Languages",data:this?.VisitorsViewModel?.visitorsListViewModel?.languagesTableData?.list?.data}]:[];return u.createElement(i.S,{viewModel:this.VisitorsViewModel},u.createElement(o.d,{data:l,tableExport:n,i18n:this.props.i18n,t:this.props.t,componentRef:this.componentRef,sectionName:a?.isExact||"visitors"===t?"visitors":"behavior"}),u.createElement(x,{integration:e,integrationLink:t,activeDomain:s,ref:e=>this.componentRef=e}))}}),x=(0,m.PA)(class extends u.Component{constructor(e){super(e)}render(){return u.createElement("div",{className:"aesirxui"},this.props.integration?u.createElement(V,{link:this.props.integrationLink,activeDomain:this.props.activeDomain,...this.props}):u.createElement(u.Fragment,null,u.createElement(g.qh,{exact:!0,path:["/visitors","/bi/visitors"]},u.createElement(I,{...this.props})),u.createElement(g.qh,{exact:!0,path:["/behavior","/bi/behavior"]},u.createElement(F,{...this.props}))))}}),f=(0,E.CI)()((0,g.y)((0,d.cm)(U)))},93811:(e,t,s)=>{s.d(t,{S:()=>r,U:()=>l});var a=s(96540),i=a.createContext(),r=({children:e,viewModel:t})=>a.createElement(i.Provider,{value:t},e),l=e=>t=>a.createElement(e,{...t,viewModel:a.useContext(i)})},13899:(e,t,s)=>{s.d(t,{I:()=>i});var a=s(96540);var i=function({url:e,width:t,height:s,color:i,className:r}){return a.createElement("span",{className:`icon d-inline-block align-text-bottom ms-auto ${r}`,style:{WebkitMaskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",width:t??"24px",height:s??"24px",backgroundColor:i?`${i}`:"var(--body-color)"}})}},62810:(e,t,s)=>{s.d(t,{e:()=>u});var a=s(13899),i=s(55688),r=s(96540),l=s(66683),n=s(95093),o=s.n(n),c=s(54625),d=s(44354),h=s(67008),u=class{constructor(e,t){(0,i.Mu)(this,"data",[]),(0,i.Mu)(this,"globalViewModel",null),(0,i.Mu)(this,"toRaw",(()=>this.data)),(0,i.Mu)(this,"handleChangeLink",((e,t)=>{e.preventDefault(),t&&this.globalViewModel.setIntegrationLink(t)})),(0,i.Mu)(this,"toFlowListTable",(e=>{const t=["txt_time_utc","txt_locale","txt_sop_id","txt_ux_percent","txt_duration","txt_page_views","txt_action","txt_event","txt_conversion","txt_traffic","",""],s=[l.dsY.START,l.dsY.GEO,l.dsY.SOP_ID,l.dsY.UX_PERCENT,l.dsY.DURATION,l.dsY.PAGEVIEW,l.dsY.ACTION,l.dsY.EVENT,l.dsY.CONVERSION,l.dsY.TRAFFIC,l.dsY.UUID];if(this.data?.length){const i=s.map(((s,i)=>({Header:t[i],accessor:s,width:s===l.dsY.START?160:s===l.dsY.SOP_ID?100:s===l.dsY.EVENT||s===l.dsY.DURATION||s===l.dsY.CONVERSION||s===l.dsY.PAGEVIEW||s===l.dsY.ACTION||s===l.dsY.DEVICE||s===l.dsY.GEO?10:s===l.dsY.UX_PERCENT?50:s===l.dsY.URL?230:s===l.dsY.UUID?80:100,allowSort:!0,sortParams:s===l.dsY.GEO?"geo.country.name":s===l.dsY.TRAFFIC?"device":s,Cell:({cell:t,column:s,row:i})=>{if(s.id===l.dsY.GEO)return r.createElement("div",{className:"px-3"},""===t?.value?r.createElement(r.Fragment,null):r.createElement("span",{className:`me-1 fi fi-${this.data.find((e=>e[l.dsY.GEO]?.country?.code===i?.values[l.dsY.GEO]?.country?.code))?.[l.dsY.GEO]?.country?.code?.toLowerCase()}`}),r.createElement("span",{className:"text-nowrap"},""===t?.value?"Unknown":""));if(s.id===l.dsY.UUID)return r.createElement(r.Fragment,null,e?r.createElement("a",{href:"#",onClick:e=>this.handleChangeLink(e,`flow&id=${t?.value}`),className:"px-3 py-1 fs-sm d-block text-center"},r.createElement(a.I,{url:l._K2.PUBLIC_URL+"/assets/images/eye.svg",color:"#222328"})):r.createElement(c.k2,{to:`/flow/${t?.value}`,className:"px-3 py-1 fs-sm d-block text-center"},r.createElement(a.I,{url:l._K2.PUBLIC_URL+"/assets/images/eye.svg",color:"#222328"})));if(s.id===l.dsY.URL&&t?.value){const e=new URL(t?.value);let s=""===e?"Unknown":e.pathname+e.search;return r.createElement("a",{href:t?.value,target:"_blank",rel:"noreferrer",className:"px-3 d-inline-block text-secondary-50"},s?.length>53?s?.slice(0,53)+"...":s)}if(s.id===l.dsY.START)return r.createElement("div",{className:"px-3 d-flex align-items-center"},o()(t?.value)?.utc()?.format("DD-MM-YYYY HH:mm:ss"));if(s.id===l.dsY.DURATION)return r.createElement("div",{className:"px-3"},o().utc(1e3*t?.value).format("mm:ss")??0);if(s.id===l.dsY.BOUNCE_RATE)return r.createElement("div",{className:"px-3"},t?.value,"%");if(s.id===l.dsY.UX_PERCENT){const e=t?.row?.original?.uxPercentDetail??{};return r.createElement("div",{className:"ux-percent position-relative d-flex align-items-center"},r.createElement("div",{className:"set-size charts-container"},r.createElement("div",{className:"pie-wrapper progress-75 style-2"},r.createElement("div",{className:"pie "+(t?.value<=50?"below-50":"above-50")},r.createElement("div",{className:"left-side half-circle",style:{transform:`rotate(${3.6*t?.value}deg)`}}),r.createElement("div",{className:"right-side half-circle"})),r.createElement("div",{className:"shadow-pie"}))),r.createElement("div",{className:"ms-2"}," ",t?.value,"%"),r.createElement("div",{className:"position-absolute ux-percent-detail"},r.createElement("p",{className:"d-flex justify-content-between mb-0 text-white"},"Visit Actions",r.createElement("span",{className:"fw-semibold"},e[l.dsY.VISIT_ACTIONS]??0,"%")),r.createElement("p",{className:"d-flex justify-content-between mb-0 text-white"},"Event Actions",r.createElement("span",{className:"fw-semibold"},e[l.dsY.EVENT_ACTIONS]??0,"%")),r.createElement("p",{className:"d-flex justify-content-between mb-0 text-white"},"Conversion Actions",r.createElement("span",{className:"fw-semibold"},e[l.dsY.CONVERSION_ACTIONS]??0,"%"))))}return s.id===l.dsY.TRAFFIC?r.createElement("div",{className:"px-3 d-flex align-items-center"},"bot"===t?.value[l.dsY.DEVICE]?r.createElement("div",{className:"me-sm cursor-pointer","data-tooltip-id":"tooltipBotUser","data-tooltip-content":"Bot"},r.createElement(d.A,{className:"me-sm object-fit-contain",style:{width:20,height:20},src:l._K2.PUBLIC_URL+"/assets/images/bot_user.svg",alt:"icons"}),r.createElement(h.m_,{id:"tooltipBotUser"})):r.createElement(r.Fragment,null),t?.value[l.dsY.BAD_USER]?r.createElement("div",{className:"cursor-pointer","data-tooltip-id":"tooltipBadUser","data-tooltip-content":"Bad User"},r.createElement(d.A,{className:"me-sm object-fit-contain",style:{width:20,height:20},src:l._K2.PUBLIC_URL+"/assets/images/bad_user.svg",alt:"icons"}),r.createElement(h.m_,{id:"tooltipBadUser"})):r.createElement(r.Fragment,null)):s.id===l.dsY.SOP_ID?r.createElement("div",{className:"px-3"},t?.value?t?.value:"Not Available"):r.createElement("div",{className:"px-3"},t?.value)}}))),n=this.data?.map((e=>({uxPercentDetail:{[l.dsY.VISIT_ACTIONS]:e[l.dsY.VISIT_ACTIONS],[l.dsY.EVENT_ACTIONS]:e[l.dsY.EVENT_ACTIONS],[l.dsY.CONVERSION_ACTIONS]:e[l.dsY.CONVERSION_ACTIONS]},...e,...s.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),u=n?.map((e=>{for(let t in e)s.includes(t)||"uxPercentDetail"===t||delete e[t];return e}));return{header:i,data:u}}return{header:[],data:[]}})),(0,i.Mu)(this,"toAreaChart",(()=>{const e=(0,l.jgq)(this.globalViewModel?.dateFilter?.date_start,this.globalViewModel?.dateFilter?.date_end),t=e.map((e=>{const t=this.data.find((t=>o()(t.date).format("YYYY-MM-DD")===e));return{name:e&&o()(e,"YYYY-MM-DD").format("DD"),event:t?.[l.dsY.EVENT]??0,conversion:t?.[l.dsY.CONVERSION]??0,pageview:t?.[l.dsY.PAGEVIEW]??0}})),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(((e,t)=>{const s=this.data.filter((e=>o()(e?.date).month()===t));let a=0,i=0,r=0;return s&&(a=s.reduce(((e,t)=>e+t[l.dsY.EVENT]),0),r=s.reduce(((e,t)=>e+t[l.dsY.CONVERSION]),0),i=s.reduce(((e,t)=>e+t[l.dsY.PAGEVIEW]),0)),{name:e,event:a,conversion:r,pageview:i}})),a={};e.forEach((e=>{const t=o()(e).startOf("isoWeek"),s=o()(e).endOf("isoWeek"),i=`${t.format("DD MMM")} - ${s.format("DD MMM")}`;a[i]||(a[i]={event:0,conversion:0,pageview:0});const r=this.data.filter((e=>o()(e?.date).isBetween(t,s,null,"[]")));if(r){const e=r.reduce(((e,t)=>e+t[l.dsY.EVENT]),0),t=r.reduce(((e,t)=>e+t[l.dsY.CONVERSION]),0),s=r.reduce(((e,t)=>e+t[l.dsY.PAGEVIEW]),0);a[i].event+=e,a[i].conversion+=t,a[i].pageview+=s}}));return[{action:s},{action:t},{action:Object.keys(a).map((e=>({name:e,event:a[e].event,conversion:a[e].conversion,pageview:a[e].pageview})))}]})),(0,i.Mu)(this,"getFilterName",(()=>[{label:"Action",value:"action"}])),e&&(this.data=e??[],this.globalViewModel=t)}}},81210:(e,t,s)=>{s.d(t,{P:()=>c});var a=s(55688),i=s(96540),r=s(66683),l=s(95093),n=s.n(l),o=s(54625),c=class{constructor(e,t){(0,a.Mu)(this,"data",[]),(0,a.Mu)(this,"globalViewModel",null),(0,a.Mu)(this,"toRaw",(()=>this.data)),(0,a.Mu)(this,"toPagesTableTopDashboard",(()=>{const e=["txt_page","txt_page_views","txt_time_on_page"],t=[r.q_A.URL,r.CEO.NUMBER_OF_PAGE_VIEWS,r.CEO.AVERAGE_SESSION_DURATION],s=Math.max(...this.data.map((e=>e[r.CEO.NUMBER_OF_PAGE_VIEWS])));if(this.data?.length){const a=t.map(((t,a)=>({Header:e[a],accessor:t,allowSort:!0,Cell:({cell:e,column:t,row:a})=>{const l=t.id===r.q_A.URL&&new URL(e?.value);return t.id===r.q_A.URL?i.createElement("a",{href:`${e?.value}`,target:"_blank",rel:"noreferrer",className:"d-block position-relative px-20 py-sm table-link text-gray-900"},i.createElement("div",{className:"position-absolute top-0 start-0 h-100 z-0 table-link-bg",style:{width:`${(a.cells[1]?.value/s*100)?.toString()}%`}}),i.createElement("div",{className:"position-relative z-1 text-ellipsis line-clamp-1 pe-20"},i.createElement("div",{className:"position-relative table-link-text"},""===l?"Unknown":l.pathname+l.search))):t.id===r.CEO.AVERAGE_SESSION_DURATION?i.createElement("div",{className:"text-end"},e?.value?n().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):i.createElement("div",{className:"px-15 text-end"},e?.value??null)}}))),l=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),o=l?.map((e=>{for(let s in e)t.includes(s)||delete e[s];return e}));return{header:a,data:o}}return{header:[],data:[]}})),(0,a.Mu)(this,"toPagesTableTop",(e=>{const t=["txt_page","txt_visitors","txt_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],s=[r.q_A.URL,r.CEO.NUMBER_OF_VISITORS,r.CEO.NUMBER_OF_PAGE_VIEWS,r.CEO.BOUNCE_RATE,r.CEO.NUMBER_OF_PAGES_PER_SESSION,r.CEO.AVERAGE_SESSION_DURATION];if(this.data?.length){const a=s.map(((s,a)=>({Header:t[a],accessor:s,allowSort:!0,width:s===r.q_A.URL?300:s===r.CEO.NUMBER_OF_PAGE_VIEWS?220:170,tooltip:s===r.CEO.NUMBER_OF_PAGE_VIEWS?"txt_bounce_rate":"",Cell:({cell:t,column:s})=>{const l=s.id===r.q_A.URL&&new URL(t?.value);return s.id===r.q_A.URL?i.createElement(i.Fragment,null,e?i.createElement("a",{href:"#",onClick:e=>this.handleChangeLink(e,`behavior/detail?url=${t?.value}}`),className:(0===a?"pe-15":"px-15")+" d-block text-secondary-50"},i.createElement("span",null,""===l?"Unknown":l.pathname+l.search)):i.createElement(o.k2,{to:`/behavior/detail?url=${t?.value}`,className:(0===a?"pe-15":"px-15")+" d-block text-secondary-50"},""===l?"Unknown":l.pathname+l.search)):s.id===r.CEO.BOUNCE_RATE?i.createElement("div",{className:"px-3 text-end"},t?.value+"%"):s.id===r.CEO.AVERAGE_SESSION_DURATION?i.createElement("div",{className:"px-15 text-end"},t?.value?n().utc(1e3*t?.value).format("HH:mm:ss"):"00:00:00"):i.createElement("div",{className:"px-15 text-end"},t?.value??null)}}))),l=this.data?.map((e=>({...e,...s.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),c=l?.map((e=>{for(let t in e)s.includes(t)||delete e[t];return e}));return{header:a,data:c}}return{header:[],data:[]}})),(0,a.Mu)(this,"transformResponse",(()=>{let e={};return this.data?.length>0&&this.data?.forEach((t=>{const s=this.data.filter((e=>e[r.q_A.URL]===t[r.q_A.URL]));e={...e,[t[r.q_A.URL]]:s}})),e})),(0,a.Mu)(this,"toBarChart",(()=>{const e=this.transformResponse();return Object.keys(e).map((t=>{const s=t&&new URL(t);return{name:""===s?"Unknown":s.pathname+s.search,number:e[t]?.reduce(((e,t)=>e+t[r.CEO.NUMBER_OF_VISITORS]),0)}}))})),e&&(this.data=e??[],this.globalViewModel=t)}}},64095:(e,t,s)=>{s.d(t,{U:()=>o});var a=s(55688),i=s(96540),r=s(66683),l=s(95093),n=s.n(l),o=class{constructor(e,t){(0,a.Mu)(this,"data",[]),(0,a.Mu)(this,"globalViewModel",null),(0,a.Mu)(this,"toRaw",(()=>this.data)),(0,a.Mu)(this,"toCountries",(()=>this?.data?.length&&this.data.map((e=>({country:e[r.YEF.COUNTRY_NAME],country_code:e[r.YEF.COUNTRY_CODE],views:e[r.CEO.NUMBER_OF_VISITORS],flag:`/assets/images/flags/flag-${e[r.YEF.COUNTRY_NAME]?.toLowerCase()}.png`})))?.filter((e=>e[r.YEF.COUNTRY_CODE]))?.sort(((e,t)=>t.views-e.views)))),(0,a.Mu)(this,"toCountriesTable",(()=>{const e=["txt_Country","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[r.YEF.COUNTRY_NAME,r.CEO.NUMBER_OF_VISITORS,r.CEO.NUMBER_OF_PAGE_VIEWS,r.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS,r.CEO.BOUNCE_RATE,r.CEO.NUMBER_OF_PAGES_PER_SESSION,r.CEO.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,width:t===r.YEF.COUNTRY_NAME?270:t===r.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS?220:170,allowSort:t!==r.YEF.COUNTRY_NAME,Cell:({cell:e,column:t,row:s})=>t.id===r.YEF.COUNTRY_NAME?i.createElement("div",{className:"px-3"},i.createElement("span",{className:`me-1 fi fi-${this.data.find((e=>e[r.YEF.COUNTRY_NAME]===s?.values[r.YEF.COUNTRY_NAME]))?.[r.YEF.COUNTRY_CODE]?.toLowerCase()}`}),i.createElement("span",{className:"text-nowrap"},`${s.index+1}. ${""===e?.value?"Unknown":e?.value}`)):t.id===r.CEO.BOUNCE_RATE?i.createElement("div",{className:"px-3"},e?.value+"%"):t.id===r.CEO.AVERAGE_SESSION_DURATION?i.createElement("div",{className:"px-3"},e?.value?n().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):i.createElement("div",{className:"px-3"},r.HP2.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),l=a?.map((e=>{for(let s in e)t.includes(s)||delete e[s];return e}));return{header:s,data:l}}return{header:[],data:[]}})),(0,a.Mu)(this,"toCountriesTableTop",(()=>{const e=["txt_Country","txt_views","txt_page_views","txt_unique_page_views","txt_bounce_rate","txt_page_session","txt_time_on_page"],t=[r.YEF.COUNTRY_NAME,r.CEO.NUMBER_OF_VISITORS,r.CEO.NUMBER_OF_PAGE_VIEWS,r.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS,r.CEO.BOUNCE_RATE,r.CEO.NUMBER_OF_PAGES_PER_SESSION,r.CEO.AVERAGE_SESSION_DURATION];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],width:t===r.YEF.COUNTRY_NAME?230:t===r.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS||t===r.CEO.AVERAGE_SESSION_DURATION?220:t===r.CEO.NUMBER_OF_VISITORS?140:170,allowSort:t!==r.YEF.COUNTRY_NAME,accessor:t,Cell:({cell:e,row:t,column:s})=>s.id===r.YEF.COUNTRY_NAME?i.createElement("div",{className:"px-15"},i.createElement("span",{className:`me-1 fi fi-${this.data.find((e=>e[r.YEF.COUNTRY_NAME]===t?.values[r.YEF.COUNTRY_NAME]))?.[r.YEF.COUNTRY_CODE]?.toLowerCase()}`}),i.createElement("span",{className:"text-nowrap"},""===e?.value?"Unknown":e?.value)):s.id===r.CEO.BOUNCE_RATE?i.createElement("div",{className:"px-3 text-end"},e?.value+"%"):s.id===r.CEO.AVERAGE_SESSION_DURATION?i.createElement("div",{className:"px-3 text-end"},e?.value?n().utc(1e3*e?.value).format("HH:mm:ss"):"00:00:00"):i.createElement("div",{className:"px-15 text-end"},r.HP2.numberWithCommas(e?.value)??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})}))),l=a?.map((e=>{for(let s in e)t.includes(s)||delete e[s];return e}));return{header:s,data:l}}return{header:[],data:[]}})),(0,a.Mu)(this,"toRegionTableTopDashboard",(()=>{const e=["txt_region","txt_visitors"],t=[r.QA8.REGION,r.CEO.NUMBER_OF_VISITORS];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,allowSort:!0,Cell:({cell:e,column:t})=>t.id===r.QA8.REGION?i.createElement("div",{className:"px-15"},e?.value?e?.value:"Unknown"):i.createElement("div",{className:"px-15 text-end"},e?.value??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})));return{header:s,data:a}}return{header:[],data:[]}})),(0,a.Mu)(this,"toCitiesTableTopDashboard",(()=>{const e=["txt_city","txt_visitors"],t=[r.NWG.CITY,r.CEO.NUMBER_OF_VISITORS];if(this.data?.length){const s=t.map(((t,s)=>({Header:e[s],accessor:t,allowSort:!0,Cell:({cell:e,column:t})=>t.id===r.NWG.CITY?i.createElement("div",{className:"px-15"},e?.value?e?.value:"Unknown"):i.createElement("div",{className:"px-15 text-end"},e?.value??null)}))),a=this.data?.map((e=>({...e,...t.map((t=>({[t]:e[t]}))).reduce(((e,t)=>({...t,...e})),{})})));return{header:s,data:a}}return{header:[],data:[]}})),e&&(this.data=e??[],this.globalViewModel=t)}}}}]);