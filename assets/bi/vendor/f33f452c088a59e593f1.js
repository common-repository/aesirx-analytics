/*! For license information please see f33f452c088a59e593f1.js.LICENSE.txt */
"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[7725],{47725:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var l,s=a(59847),n=a(57662),i=a(59283),o=a(13899),r=a(51751),c=a(53800),d=a(55688),m=a(96540),p=a(32389),g=a(44015),u=a(56347),h=a(418),b=a(67658),w=a(66683),E=a(67008),x=(0,p.CI)()((0,u.y)((e=>{const{data:t,isPagination:a=!0,simplePagination:l=!1,pagination:s,selectPage:c,selectPageSize:d,status:p,limit:g,isPaginationAPI:u=!!a,t:h,sortAPI:x,handleSort:y,sortBy:_}=e,v=m.useMemo((()=>t?.header?.map(((e,a)=>{let l="";switch(e?.accessor){case w.CEO.NUMBER_OF_VISITORS:l="txt_tooltip_outlink";break;case w.CEO.NUMBER_OF_PAGE_VIEWS:l="txt_tooltip_page_views";break;case w.CEO.NUMBER_OF_UNIQUE_PAGE_VIEWS:l="txt_tooltip_unique_page_views";break;case w.CEO.BOUNCE_RATE:l="txt_tooltip_bounce_rate";break;case w.CEO.NUMBER_OF_PAGES_PER_SESSION:l="txt_tooltip_page_session";break;case w.CEO.AVERAGE_SESSION_DURATION:l="txt_tooltip_avg_session_duration";break;default:l=""}return{...e,className:`py-16 fs-sm fw-semibold border-bottom border-gray-800 align-middle ${1!==a?"rounded-top-end-3 text-end":""} ${1===a?"rounded-top-start-3":""} ${0!==a?"px-15":"pe-15"}`,width:e.width?e.width:0===a?"auto":170,allowSort:e?.allowSort||!1,subRows:e?.subRows??[],Header:m.createElement("span",{className:"align-middle text-gray-900 fw-medium position-relative","data-tooltip-id":"tooltipTable","data-tooltip-place":""+(a===t?.header?.length-1?"top-end":"top"),"data-tooltip-content":h(l)},h(e.Header),l&&m.createElement(m.Fragment,null,m.createElement("div",{className:"mx-sm fs-12 mb-1",style:{position:"absolute",right:"-5px",top:"-12px"}},m.createElement(o.I,{url:w._K2.PUBLIC_URL+"/assets/images/info.svg",width:"12px",height:"12px",color:"#5F5E70"})),m.createElement(E.m_,{id:"tooltipTable"})))}}))),[t?.header]),N=m.useMemo((()=>t?.data),[t?.data]);return m.createElement(m.Fragment,null,p===r.s.LOADING?m.createElement(b.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?m.createElement(n.x,{classNameTable:"mb-0",columns:v,data:N,canSort:!0,pagination:a,paginationClass:"fs-14 border-top mt-2",isPaginationAPI:u,paginationResponse:s,selectPage:c,selectPageSize:d,simplePagination:l,limit:g,sortAPI:x,sortAPIHandle:y,sortBy:_,listViewModel:e.listViewModel,hasSubRow:!0,status:p,idKey:"urls"}):m.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},m.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},m.createElement(i.J,{icons:w._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:h("txt_no_data"),width:"w-50"}))))}))),y=(0,g.PA)(class extends m.Component{constructor(e){super(e);const{listViewModel:t}=e;this.listViewModel=t||null,this.state={loading:!1}}render(){const{statusTopTable:e}=this.listViewModel;return m.createElement("div",{className:"position-relative h-100"},m.createElement("div",{className:"bg-white rounded-3 shadow-sm h-100 position-relative ChartWrapper"},m.createElement(x,{data:this.listViewModel?.outlinkTableData?.list?.toOutlinkTableTop(this.props.integration),pagination:this.listViewModel?.outlinkTableData?.pagination,selectPage:async e=>{await this.listViewModel.handleFilterOutlink({page:e})},selectPageSize:async e=>{await this.listViewModel.handleFilterOutlink({page:1,page_size:e})},status:e,sortAPI:!0,handleSort:this.props.handleSort,sortBy:this.listViewModel?.sortBy,...this.props})))}}),_=(0,p.CI)()((0,u.y)(y)),v=(0,g.PA)((l=class extends m.Component{constructor(e){super(e),(0,d.Mu)(this,"componentDidMount",(()=>{this.outlinkListViewModel.initialize({...this.context.biListViewModel.activeDomain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{...this.params?.pagination&&{page:this.params?.pagination}})})),(0,d.Mu)(this,"componentDidUpdate",(e=>{this.props.location===e.location&&this.props.activeDomain===e.activeDomain||this.outlinkListViewModel.initialize({...this.context.biListViewModel.activeDomain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{...this.params?.pagination&&{page:this.params?.pagination}})})),(0,d.Mu)(this,"handleDateRangeChange",((e,t)=>{this.outlinkListViewModel.handleFilterDateRange(e??t,t??e)})),(0,d.Mu)(this,"handleSort",(async e=>{this.outlinkListViewModel.getOutlink({...this.context.biListViewModel.activeDomain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{"sort[]":e?.id,"sort_direction[]":"desc"===this.outlinkListViewModel?.sortBy["sort_direction[]"]?"asc":"desc"})})),(0,d.Mu)(this,"handleSearch",(async e=>{this.outlinkListViewModel.getPages({...this.context.biListViewModel.activeDomain?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{})},{},{},{"filter[url]":e})}));const{viewModel:t}=e;this.viewModel=t||null,this.outlinkListViewModel=this.viewModel?this.viewModel.getOutlinkListViewModel():null,this.params=h.A.parse(e.location.search)}render(){const{t:e}=this.props;return m.createElement("div",{className:"py-4 px-4"},m.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24"},m.createElement("div",null,m.createElement("h2",{className:"fw-medium mb-3 mt-3"},e("txt_outlinks"))),m.createElement("div",{className:"position-relative"},m.createElement(i.K,{onChange:this.handleDateRangeChange}))),m.createElement(_,{listViewModel:this.outlinkListViewModel,handleSort:this.handleSort,handleSearch:this.handleSearch,...this.props}))}},(0,d.Mu)(l,"contextType",c.Dx),l)),N=(0,p.CI)()((0,u.y)((0,s.X)(v)))},13899:(e,t,a)=>{a.d(t,{I:()=>s});var l=a(96540);var s=function({url:e,width:t,height:a,color:s,className:n}){return l.createElement("span",{className:`icon d-inline-block align-text-bottom ms-auto ${n}`,style:{WebkitMaskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",width:t??"24px",height:a??"24px",backgroundColor:s?`${s}`:"var(--body-color)"}})}},57662:(e,t,a)=>{a.d(t,{x:()=>u});var l=a(59283),s=a(13899),n=a(51751),i=a(96540),o=a(32885),r=a(32389),c=a(20982),d=a(66188),m=a(66683),p=a(67658);function g({row:e,rowProps:t,visibleColumns:a,data:l,loading:s}){return s?i.createElement("tr",null,i.createElement("td",null),i.createElement("td",{colSpan:a.length-1},"Loading...")):i.createElement(i.Fragment,null,l?.length&&i.createElement(i.Fragment,null,l.map(((a,l)=>i.createElement("tr",{...t,key:`${t.key}-expanded-${l}`,className:"row_sub_component"},e.cells.map(((t,s)=>i.createElement("td",{...t.getCellProps(),key:s,className:`py-2 wb-all align-middle sub-cell-${t.column.id} `,style:{backgroundColor:0===s?"#fff":"#F0F3FB"}},t.render("SubCell",{value:t.column.accessor(a,l),row:{...e,original:a}})))))))))}document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode("/*\n * @copyright   Copyright (C) 2022 AesirX. All rights reserved.\n * @license     GNU General Public License version 3, see LICENSE.\n */\n.sort-icon {\n  height: 20px;\n}"));var u=(0,r.CI)()((({columns:e,data:t,pagination:a,onSelect:r,dataList:u,classNameTable:h,canSort:b,sortAPI:w,sortAPIHandle:E,sortBy:x,limit:y,paginationClass:_,isPaginationAPI:v,paginationResponse:N,selectPage:C,selectPageSize:P,simplePagination:k=!1,status:S,hasSubRow:f,idKey:M,tdClass:I,...L})=>{const{getTableProps:R,getTableBodyProps:V,headerGroups:F,prepareRow:B,rows:A,visibleColumns:U,page:O,pageOptions:D,previousPage:$,canPreviousPage:T,canNextPage:z,pageCount:K,gotoPage:G,setPageSize:j,nextPage:H,state:{pageIndex:W,pageSize:J}}=(0,o.useTable)({columns:e,data:t,onSelect:r,initialState:{pageSize:(v?N?.page_size:y)??5,pageIndex:0}},o.useSortBy,o.useExpanded,o.usePagination),X=i.useCallback((({row:e,rowProps:t,visibleColumns:a,subRow:l,idKey:s})=>i.createElement(g,{row:e,rowProps:t,visibleColumns:a,loading:S===n.s.LOADING,data:l,idKey:s})),[S]),Q=async e=>{await C(e)},{t:Y}=L;let q=v?[...Array(N?.total_pages)]:[...Array(D.length)];return i.createElement(i.Fragment,null,i.createElement("div",{className:"bg-white fs-14 rounded-3 position-relative text-gray-900 px-24"},A.length?i.createElement("table",{...R(),className:`w-100 ${h}`},i.createElement("thead",null,F.map(((e,t)=>{let a="";a=u?e.headers.filter((e=>!u.some((t=>e.id===t)))):e.headers;let l={role:e.getHeaderGroupProps()?.role};return i.createElement("tr",{key:t,...l},a.map(((e,t)=>{let a=e.sortParams??e.id,l="";return e.rowSpan&&b&&!w&&(l=e.columns[0]),i.createElement("th",{key:t,...!w&&e?.allowSort&&{...e.getHeaderProps(b&&!e.rowSpan?e.getSortByToggleProps():l&&l.getSortByToggleProps())},className:`${e.className} ${w&&e?.allowSort&&"number"!==a&&"selection"!==a?"cursor-pointer":""}`,...w&&e?.allowSort&&"number"!==a&&"selection"!==a&&{onClick:async()=>{E(e)}},rowSpan:`${e.rowSpan??1}`},e.render("Header"),b&&e?.allowSort&&i.createElement("span",{className:"position-relative align-middle"},w?x&&x["sort[]"]===a&&"number"!==a&&"selection"!==a?"desc"===x["sort_direction[]"]?i.createElement(s.I,{url:m._K2.PUBLIC_URL+"/assets/images/sort_down.svg",color:"#5F5E70"}):i.createElement("span",{style:{transform:"rotate(180deg)",display:"inline-block"}},i.createElement(s.I,{url:m._K2.PUBLIC_URL+"/assets/images/sort_down.svg",color:"#5F5E70",height:"16px"})):i.createElement(i.Fragment,null):e.rowSpan?l.isSorted&&"number"!==a&&"selection"!==a?l.isSortedDesc?i.createElement(c.g,{className:"sort-icon sort-icon-down ms-sm mt-n3",icon:d.Ync}):i.createElement(c.g,{className:"sort-icon sort-icon-up ms-sm mb-nsm",icon:d.Dvs}):"":e.isSorted&&"number"!==a&&"selection"!==a?e.isSortedDesc?i.createElement(c.g,{className:"sort-icon sort-icon-down ms-sm mt-n3",icon:d.Ync}):i.createElement(c.g,{className:"sort-icon sort-icon-up ms-sm mb-nsm",icon:d.Dvs}):i.createElement(i.Fragment,null)))})))}))),i.createElement("tbody",{...V()},O.length>0&&O.map((e=>{B(e);const t=e.getRowProps();let a="";a=u?e.cells.filter((e=>!u.some((t=>e.column.id===t)))):e.cells;const l=e.cells.find((e=>e?.column?.id===M))?.value??[];let s={role:t?.role};return i.createElement(i.Fragment,{key:e.getRowProps().key},i.createElement("tr",{key:e.getRowProps().key,...s},a.map(((e,t)=>{let a={role:e.getCellProps({style:{width:e.column.width}})?.role,style:e.getCellProps({style:{width:e.column.width}})?.style};return i.createElement("td",{key:t,...a,className:`wb-all ${I||"py-2 align-middle"}`},e.render("Cell"))}))),!1===f?null:e.isExpanded&&X({row:e,rowProps:t,visibleColumns:U,subRow:l,idKey:M}))})))):null,0===A.length?i.createElement("div",{className:"ChartWrapper d-flex align-items-center justify-content-center"},i.createElement(l.J,{icons:m._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:Y("txt_no_data"),width:"w-50"})):null),a&&D.length?i.createElement("div",{className:"mt-auto mb-0"},i.createElement("div",{className:`d-flex align-items-center justify-content-between ${_}`},k?i.createElement("div",{className:"text-gray-900 fw-light"},1===N?.page?1:N?.page_size*(N?.page-1),"-",N?.total_elements<=N?.page_size?N?.total_elements:N?.page_size*N?.page," ","to ",N?.total_elements):i.createElement("div",{className:"d-flex align-items-center"},i.createElement("span",{className:"text-gray-600 me-16"},"Showing"),i.createElement("div",{className:"bg-white"},i.createElement(p.J0,{isClearable:!1,isSearchable:!1,isBorder:!1,isShadow:!1,menuPlacement:"top",options:[{label:5,value:5},{label:10,value:10},{label:20,value:20},{label:30,value:30},{label:40,value:40},{label:50,value:50}],getOptionLabel:e=>i.createElement("div",{className:"showing-option d-flex align-items-center"},i.createElement("span",null,e.label," items")),className:"shadow-none select-bg-white",onChange:e=>{v?(async e=>{await P(e)})(Number(e.value)):j(Number(e.value))},defaultValue:{label:v?N?.page_size:J,value:v?N?.page_size:J}}))),i.createElement("div",{className:"mt-2 pb-2 text-center pagination d-flex justify-content-end align-items-center"},i.createElement("button",{className:(k?"border-0":"border-1 border-gray-800")+" bg-white text-body btn p-0 w-40px h-40px rounded-0 rounded-top-start rounded-bottom-start",onClick:()=>v?Q(N?.page-1):$(),disabled:v?1===N?.page:!T},i.createElement(s.I,{url:m._K2.PUBLIC_URL+"/assets/images/chevron_left.svg",color:v?1===N?.page?"#5F5E70":"#1ab394":T?"#1ab394":"#5F5E70"}))," ",!k&&i.createElement(i.Fragment,null,i.createElement("button",{onClick:()=>v?Q(1):G(0),className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px "+((v?1===N?.page:W+1===1)?"bg-gray-900 text-white":"bg-white text-body"),style:{width:"38px",height:"38px"}},1),(v?N?.page>3:W>3)&&i.createElement("button",{className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px bg-white text-body",style:{width:"38px",height:"38px"}},"..."),q.map(((e,t)=>{let a=v?N?.page===t+1:W+1===t+1;return(v?0!==t&&t!==N?.total_pages-1&&t<N?.page-1+3&&t>N?.page-1-3:0!==t&&t!==D.length-1&&t<W+3&&t>W-3)&&i.createElement("button",{onClick:()=>v?Q(t+1):G(t),key:t,className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px "+(a?"bg-gray-900 text-white":"bg-white text-body"),style:{width:"38px",height:"38px"}},t+1)})),(v?N?.page<N?.total_pages-3:W<D.length-4)&&i.createElement("button",{className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px bg-white text-body",style:{width:"38px",height:"38px"}},"..."),(v?N?.total_pages>1:D.length>1)&&i.createElement("button",{onClick:()=>v?Q(N?.total_pages):G(K-1),className:"border-1 border-gray-800 rounded-0 btn p-0 w-40px h-40px "+((v?N?.page===N?.total_pages:W+1===D.length)?"bg-gray-900 text-white":"bg-white text-body"),style:{width:"38px",height:"38px"}},v?N?.total_pages:D.length)),i.createElement("button",{className:` ${k?"border-0":"border-1 border-gray-800"} bg-white text-body btn p-0 w-40px h-40px rounded-0 rounded-top-end rounded-bottom-end`,onClick:()=>v?Q(N?.page+1):H(),disabled:v?N?.page===N?.total_pages:!z},i.createElement(s.I,{url:m._K2.PUBLIC_URL+"/assets/images/chevron_right.svg",color:v?N?.page===N?.total_pages?"#5F5E70":"#1ab394":z?"#1ab394":"#5F5E70"}))))):null)}))},59283:(e,t,a)=>{a.d(t,{J:()=>g,K:()=>u});var l=a(13899),s=a(53800),n=a(96540),i=a(32389),o=a(67658),r=a(20982),c=a(54625),d=a(66188),m=a(66683);document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode("/*\n * @copyright   Copyright (C) 2022 AesirX. All rights reserved.\n * @license     GNU General Public License version 3, see LICENSE.\n */\n.icon-post {\n  background: #cbf8ef;\n}\n\n.icon-project {\n  background: #ffeadc;\n}\n\n.icon-campain {\n  background: #fadae3;\n}"));var p=class extends n.Component{constructor(e){super(e)}render(){const{icons:e,text:t,title:a,link:l,linlText:s,isBtn:i,width:m,className:p,iconColor:g,iconBg:u}=this.props;return n.createElement("div",{className:p||"text-center h-100 d-flex flex-column justify-content-center align-items-center"},n.createElement("p",{style:{width:"48px",height:"55px"},className:`my-2 d-inline-block position-relative rounded-circle ${u}`},n.createElement(o._V,{className:`position-absolute top-50 start-50 translate-middle ${g}`,src:e,alt:e})),a&&n.createElement("h5",{className:"mb-2"},a),t&&n.createElement("p",{className:`mb-2 fs-14 text-black-50 w-100 mx-auto ${m}`},t),i&&n.createElement(c.N_,{to:{pathname:l,state:{openModal:!0}},className:"btn btn-success d-inline-block w-fit"},n.createElement("i",{className:"text-white me-2"},n.createElement(r.g,{icon:d.QLR})),s))}},g=(0,i.CI)()(p),u=e=>{const[t,a]=(0,n.useState)(!1),i=(0,n.useRef)(null),{onChange:r}=e,{biListViewModel:{dateFilter:{date_start:c,date_end:d},setDateFilter:p}}=(0,s.jd)(s.Dx);return n.createElement("div",{style:{minHeight:"48px"},ref:i,className:"d-flex align-items-center bg-white rounded-1 shadow-sm daterange-picker-wrapper"},n.createElement(o.n0,{isOpen:t,setIsOpen:a,datePickerRef:i,onChange:r,dateStart:c,dateEnd:d,setDateFilter:p}),n.createElement("div",{className:"calendar-icon position-absolute top-50 translate-middle-y"},n.createElement(l.I,{url:m._K2.PUBLIC_URL+"/assets/images/calendar.svg",color:"#00B96D"})))}}}]);