"use strict";(self.webpackChunkaesirx_analytics=self.webpackChunkaesirx_analytics||[]).push([[5674],{15674:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var i=a(98870),s=a(70427),l=a(89649),r=a(44368),n=(a(50629),a(57662),a(59283)),o=(a(13899),a(51751),a(53800)),m=(a(55688),a(96540)),c=a(32389),d=a(44015),u=a(67658),g=a(44479),b=a(61105),p=(0,d.PA)((e=>{const{t}=(0,c.Bd)(),{utmTrackingEvents:{getVisitor:a,data:d,statusAttribute:p,handleFilterDateRange:h,handleFilterTable:F,getAttributeDate:f,getAttributeList:E,dataAttribute:C,dataAttributeList:_,statusTable:v,sortBy:w}}=(0,i.t)(),{biListViewModel:{activeDomain:A}}=(0,o.jd)(),N=(0,m.useCallback)(((e,t)=>{h(e??t,t??e)}),[]);(0,m.useEffect)((()=>((async()=>{await f({...A?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"filter[attribute_name]":"utm_source"}),await a({...A?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"filter[attribute_name]":"utm_source"}),await E({...A?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"filter[attribute_name]":"utm_source"})})(),()=>{})),[A]);return m.createElement("div",{className:"py-4 px-4 h-100"},m.createElement("div",{className:"d-flex align-items-center justify-content-between mb-24 flex-wrap"},m.createElement("div",{className:"position-relative"},m.createElement("h2",{className:"fw-medium mb-3 mt-3"},t("txt_menu_utm_tracking"))),m.createElement("div",{className:"position-relative havePrintButton"},m.createElement(n.K,{onChange:N}))),m.createElement("div",{className:"row gx-24 mb-24"},m.createElement("div",{className:"col-lg-6 col-12"},m.createElement(s.O,{loading:p,chartTitle:t("txt_menu_overview"),height:390,data:C?.toAreaChartUTM(),colors:["#1AB394","#9747FF","#479CFF","#024E6D","#3F51B5","#FFC107","#4CAF50","#FF5722"],areaColors:["#1AB394","#9747FF","#479CFF","#024E6D","#3F51B5","#FFC107","#4CAF50","#FF5722"],lineColors:["#1AB394","#9747FF","#479CFF","#024E6D","#3F51B5","#FFC107","#4CAF50","#FF5722"],lines:C?.getListLineUTM(),filterData:C?.getFilterNameUTM(),tooltipComponent:{header:t("txt_number"),value:""},isLegend:!0,filterButtons:["days","months"]})),m.createElement("div",{className:"col-lg-6 col-12"},m.createElement(r.n,{chartTitle:t("txt_menu_utm_tracking")+" count",height:390,bars:["number"],barColors:["#2C94EA"],data:C?.toBarChartUTM(),margin:{left:40},filterButtons:[],loading:p,isSelection:!1}))),_?.toAttributeList()?.length&&m.createElement(g.A,{className:"mb-2"},m.createElement(b.A,{lg:"2"},m.createElement(u.J0,{defaultValue:{label:"All Campaign",value:"all"},options:_?.toAttributeList(),className:"fs-sm",isBorder:!0,onChange:e=>{(async e=>{await a({...A?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"filter[attribute_name]":"utm_source","filter[attribute_value]":e?.value})})(e)},plColor:"#808495",isSearchable:!1}))),m.createElement("div",{className:"row gx-24 mb-24"},m.createElement("div",{className:"col-12"},d?.list&&m.createElement(l.X,{data:d?.list?.toEventTableUTM(e.integration),statusTable:v,isPaginationAPI:!0,pagination:d.pagination,handleFilterTable:F,handleSort:async e=>{await a({...A?.map(((e,t)=>({[`filter[domain][${t+1}]`]:e})))?.reduce(((e,t)=>({...e,...t})),{}),"filter[attribute_name]":"utm_source"},{},{"sort[]":e?.id,"sort_direction[]":"desc"===w["sort_direction[]"]?"asc":"desc"})},sortBy:w,...e}))))}))},89649:(e,t,a)=>{a.d(t,{X:()=>m});var i=a(57662),s=a(59283),l=a(51751),r=a(66683),n=a(67658),o=a(96540),m=(0,a(32389).CI)()((({data:{header:e=[],data:t=[]},pagination:a,handleFilterTable:m,statusTable:c,t:d,isPaginationAPI:u=!1,isTranslate:g=!1,sortAPI:b=!0,handleSort:p,sortBy:h,tdClass:F,limit:f})=>{const E=o.useMemo((()=>e.map(((t,a)=>({...t,className:`py-16 fs-sm fw-semibold border-bottom border-gray-800 align-middle ${a+1===e.length?"rounded-top-end-3":""} ${0===a?"pe-3 rounded-top-start-3":"px-3"}`,width:t?.width??100,allowSort:t?.allowSort||!1,...g?{Header:o.createElement("span",{className:"align-middle text-gray-900 fw-medium"},d(t.Header))}:{}})))),[e]),C=o.useMemo((()=>t),[t]);return o.createElement("div",{className:"h-100 ChartWrapper position-relative"},c===l.s.LOADING?o.createElement(n.bg,{className:"d-flex justify-content-center align-items-center bg-white rounded-3 shadow-sm"}):t?o.createElement(i.x,{classNameTable:"mb-0",columns:E,data:C,canSort:!0,sortAPI:b,sortAPIHandle:p,sortBy:h,pagination:!0,paginationClass:"fs-14 px-4",isPaginationAPI:u,paginationResponse:a,selectPage:async e=>{await m({page:e})},selectPageSize:async e=>{await m({page:1,page_size:e})},limit:f,tdClass:F}):o.createElement("div",{className:"position-relative ChartWrapper bg-white rounded-3 shadow-sm"},o.createElement("div",{className:"position-absolute top-50 start-50 translate-middle"},o.createElement(s.J,{icons:r._K2.PUBLIC_URL+"/assets/images/ic_project.svg",title:d("txt_no_data"),width:"w-50"}))))}))}}]);